<html>
<head>
<title>element.py</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #7a7e85;}
.s1 { color: #bcbec4;}
.s2 { color: #cf8e6d;}
.s3 { color: #bcbec4;}
.s4 { color: #6aab73;}
.s5 { color: #5f826b; font-style: italic;}
.s6 { color: #2aacb8;}
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
element.py</font>
</center></td></tr></table>
<pre><span class="s0"># Copyright 2008-2011 Nokia Networks</span>
<span class="s0"># Copyright 2011-2016 Ryan Tomac, Ed Manlove and contributors</span>
<span class="s0"># Copyright 2016-     Robot Framework Foundation</span>
<span class="s0">#</span>
<span class="s0"># Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span>
<span class="s0"># you may not use this file except in compliance with the License.</span>
<span class="s0"># You may obtain a copy of the License at</span>
<span class="s0">#</span>
<span class="s0">#    http://www.apache.org/licenses/LICENSE-2.0</span>
<span class="s0">#</span>
<span class="s0"># Unless required by applicable law or agreed to in writing, software</span>
<span class="s0"># distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span>
<span class="s0"># WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span>
<span class="s0"># See the License for the specific language governing permissions and</span>
<span class="s0"># limitations under the License.</span>
<span class="s2">from </span><span class="s1">collections </span><span class="s2">import </span><span class="s1">namedtuple</span>
<span class="s2">from </span><span class="s1">typing </span><span class="s2">import </span><span class="s1">List</span><span class="s3">, </span><span class="s1">Optional</span><span class="s3">, </span><span class="s1">Tuple</span><span class="s3">, </span><span class="s1">Union</span>

<span class="s2">from </span><span class="s1">SeleniumLibrary</span><span class="s3">.</span><span class="s1">utils </span><span class="s2">import </span><span class="s1">is_noney</span>
<span class="s2">from </span><span class="s1">robot</span><span class="s3">.</span><span class="s1">utils </span><span class="s2">import </span><span class="s1">plural_or_not</span><span class="s3">, </span><span class="s1">is_truthy</span>
<span class="s2">from </span><span class="s1">selenium</span><span class="s3">.</span><span class="s1">webdriver</span><span class="s3">.</span><span class="s1">common</span><span class="s3">.</span><span class="s1">action_chains </span><span class="s2">import </span><span class="s1">ActionChains</span>
<span class="s2">from </span><span class="s1">selenium</span><span class="s3">.</span><span class="s1">webdriver</span><span class="s3">.</span><span class="s1">common</span><span class="s3">.</span><span class="s1">keys </span><span class="s2">import </span><span class="s1">Keys</span>
<span class="s2">from </span><span class="s1">selenium</span><span class="s3">.</span><span class="s1">webdriver</span><span class="s3">.</span><span class="s1">remote</span><span class="s3">.</span><span class="s1">webelement </span><span class="s2">import </span><span class="s1">WebElement</span>

<span class="s2">from </span><span class="s1">SeleniumLibrary</span><span class="s3">.</span><span class="s1">base </span><span class="s2">import </span><span class="s1">LibraryComponent</span><span class="s3">, </span><span class="s1">keyword</span>
<span class="s2">from </span><span class="s1">SeleniumLibrary</span><span class="s3">.</span><span class="s1">errors </span><span class="s2">import </span><span class="s1">ElementNotFound</span>
<span class="s2">from </span><span class="s1">SeleniumLibrary</span><span class="s3">.</span><span class="s1">utils</span><span class="s3">.</span><span class="s1">types </span><span class="s2">import </span><span class="s1">type_converter</span>


<span class="s2">class </span><span class="s1">ElementKeywords</span><span class="s3">(</span><span class="s1">LibraryComponent</span><span class="s3">):</span>
    <span class="s3">@</span><span class="s1">keyword</span><span class="s3">(</span><span class="s1">name</span><span class="s3">=</span><span class="s4">&quot;Get WebElement&quot;</span><span class="s3">)</span>
    <span class="s2">def </span><span class="s1">get_webelement</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">]) </span><span class="s1">-&gt; WebElement</span><span class="s3">:</span>
        <span class="s5">&quot;&quot;&quot;Returns the first WebElement matching the given ``locator``. 
 
        See the `Locating elements` section for details about the locator 
        syntax. 
        &quot;&quot;&quot;</span>
        <span class="s2">return </span><span class="s1">self</span><span class="s3">.</span><span class="s1">find_element</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">)</span>

    <span class="s3">@</span><span class="s1">keyword</span><span class="s3">(</span><span class="s1">name</span><span class="s3">=</span><span class="s4">&quot;Get WebElements&quot;</span><span class="s3">)</span>
    <span class="s2">def </span><span class="s1">get_webelements</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">]) </span><span class="s1">-&gt; List</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">]:</span>
        <span class="s5">&quot;&quot;&quot;Returns a list of WebElement objects matching the ``locator``. 
 
        See the `Locating elements` section for details about the locator 
        syntax. 
 
        Starting from SeleniumLibrary 3.0, the keyword returns an empty 
        list if there are no matching elements. In previous releases, the 
        keyword failed in this case. 
        &quot;&quot;&quot;</span>
        <span class="s2">return </span><span class="s1">self</span><span class="s3">.</span><span class="s1">find_elements</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">)</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">element_should_contain</span><span class="s3">(</span>
        <span class="s1">self</span><span class="s3">,</span>
        <span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">],</span>
        <span class="s1">expected</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s2">None</span><span class="s3">, </span><span class="s1">str</span><span class="s3">],</span>
        <span class="s1">message</span><span class="s3">: </span><span class="s1">Optional</span><span class="s3">[</span><span class="s1">str</span><span class="s3">] = </span><span class="s2">None</span><span class="s3">,</span>
        <span class="s1">ignore_case</span><span class="s3">: </span><span class="s1">bool </span><span class="s3">= </span><span class="s2">False</span><span class="s3">,</span>
    <span class="s3">):</span>
        <span class="s5">&quot;&quot;&quot;Verifies that element ``locator`` contains text ``expected``. 
 
        See the `Locating elements` section for details about the locator 
        syntax. 
 
        The ``message`` argument can be used to override the default error 
        message. 
 
        The ``ignore_case`` argument can be set to True to compare case 
        insensitive, default is False. New in SeleniumLibrary 3.1. 
 
        ``ignore_case`` argument is new in SeleniumLibrary 3.1. 
 
        Use `Element Text Should Be` if you want to match the exact text, 
        not a substring. 
        &quot;&quot;&quot;</span>
        <span class="s1">actual </span><span class="s3">= </span><span class="s1">actual_before </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">find_element</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">).</span><span class="s1">text</span>
        <span class="s1">expected_before </span><span class="s3">= </span><span class="s1">expected</span>
        <span class="s2">if </span><span class="s1">ignore_case</span><span class="s3">:</span>
            <span class="s1">actual </span><span class="s3">= </span><span class="s1">actual</span><span class="s3">.</span><span class="s1">lower</span><span class="s3">()</span>
            <span class="s1">expected </span><span class="s3">= </span><span class="s1">expected</span><span class="s3">.</span><span class="s1">lower</span><span class="s3">()</span>
        <span class="s2">if </span><span class="s1">expected </span><span class="s2">not in </span><span class="s1">actual</span><span class="s3">:</span>
            <span class="s2">if </span><span class="s1">message </span><span class="s2">is None</span><span class="s3">:</span>
                <span class="s1">message </span><span class="s3">= (</span>
                    <span class="s4">f&quot;Element '</span><span class="s2">{</span><span class="s1">locator</span><span class="s2">}</span><span class="s4">' should have contained text '</span><span class="s2">{</span><span class="s1">expected_before</span><span class="s2">}</span><span class="s4">' but &quot;</span>
                    <span class="s4">f&quot;its text was '</span><span class="s2">{</span><span class="s1">actual_before</span><span class="s2">}</span><span class="s4">'.&quot;</span>
                <span class="s3">)</span>
            <span class="s2">raise </span><span class="s1">AssertionError</span><span class="s3">(</span><span class="s1">message</span><span class="s3">)</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">info</span><span class="s3">(</span><span class="s4">f&quot;Element '</span><span class="s2">{</span><span class="s1">locator</span><span class="s2">}</span><span class="s4">' contains text '</span><span class="s2">{</span><span class="s1">expected_before</span><span class="s2">}</span><span class="s4">'.&quot;</span><span class="s3">)</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">element_should_not_contain</span><span class="s3">(</span>
        <span class="s1">self</span><span class="s3">,</span>
        <span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">],</span>
        <span class="s1">expected</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s2">None</span><span class="s3">, </span><span class="s1">str</span><span class="s3">],</span>
        <span class="s1">message</span><span class="s3">: </span><span class="s1">Optional</span><span class="s3">[</span><span class="s1">str</span><span class="s3">] = </span><span class="s2">None</span><span class="s3">,</span>
        <span class="s1">ignore_case</span><span class="s3">: </span><span class="s1">bool </span><span class="s3">= </span><span class="s2">False</span><span class="s3">,</span>
    <span class="s3">):</span>
        <span class="s5">&quot;&quot;&quot;Verifies that element ``locator`` does not contain text ``expected``. 
 
        See the `Locating elements` section for details about the locator 
        syntax. 
 
        The ``message`` argument can be used to override the default error 
        message. 
 
        The ``ignore_case`` argument can be set to True to compare case 
        insensitive, default is False. 
 
        ``ignore_case`` argument new in SeleniumLibrary 3.1. 
        &quot;&quot;&quot;</span>
        <span class="s1">actual </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">find_element</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">).</span><span class="s1">text</span>
        <span class="s1">expected_before </span><span class="s3">= </span><span class="s1">expected</span>
        <span class="s2">if </span><span class="s1">ignore_case</span><span class="s3">:</span>
            <span class="s1">actual </span><span class="s3">= </span><span class="s1">actual</span><span class="s3">.</span><span class="s1">lower</span><span class="s3">()</span>
            <span class="s1">expected </span><span class="s3">= </span><span class="s1">expected</span><span class="s3">.</span><span class="s1">lower</span><span class="s3">()</span>
        <span class="s2">if </span><span class="s1">expected </span><span class="s2">in </span><span class="s1">actual</span><span class="s3">:</span>
            <span class="s2">if </span><span class="s1">message </span><span class="s2">is None</span><span class="s3">:</span>
                <span class="s1">message </span><span class="s3">= (</span>
                    <span class="s4">f&quot;Element '</span><span class="s2">{</span><span class="s1">locator</span><span class="s2">}</span><span class="s4">' should not contain text '</span><span class="s2">{</span><span class="s1">expected_before</span><span class="s2">}</span><span class="s4">' but &quot;</span>
                    <span class="s4">&quot;it did.&quot;</span>
                <span class="s3">)</span>
            <span class="s2">raise </span><span class="s1">AssertionError</span><span class="s3">(</span><span class="s1">message</span><span class="s3">)</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">info</span><span class="s3">(</span><span class="s4">f&quot;Element '</span><span class="s2">{</span><span class="s1">locator</span><span class="s2">}</span><span class="s4">' does not contain text '</span><span class="s2">{</span><span class="s1">expected_before</span><span class="s2">}</span><span class="s4">'.&quot;</span><span class="s3">)</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">page_should_contain</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">text</span><span class="s3">: </span><span class="s1">str</span><span class="s3">, </span><span class="s1">loglevel</span><span class="s3">: </span><span class="s1">str </span><span class="s3">= </span><span class="s4">&quot;TRACE&quot;</span><span class="s3">):</span>
        <span class="s5">&quot;&quot;&quot;Verifies that current page contains ``text``. 
 
        If this keyword fails, it automatically logs the page source 
        using the log level specified with the optional ``loglevel`` 
        argument. Valid log levels are ``TRACE`` (default), ``DEBUG``, 
        ``INFO``, ``WARN``, and ``NONE``. If the log level is ``NONE`` 
        or below the current active log level the source will not be logged. 
 
        !! WARNING !! If you have an iframe selected, `Page Should Contain` 
        will reset the frame reference back to the main frame. This is due 
        to the fact that is searches for the ``text`` in all frames. To locate 
        an element in an iframe after calling `Page Should Contian` one needs 
        to (re)select the frame. 
        &quot;&quot;&quot;</span>
        <span class="s2">if not </span><span class="s1">self</span><span class="s3">.</span><span class="s1">_page_contains</span><span class="s3">(</span><span class="s1">text</span><span class="s3">):</span>
            <span class="s1">self</span><span class="s3">.</span><span class="s1">ctx</span><span class="s3">.</span><span class="s1">log_source</span><span class="s3">(</span><span class="s1">loglevel</span><span class="s3">)</span>
            <span class="s2">raise </span><span class="s1">AssertionError</span><span class="s3">(</span>
                <span class="s4">f&quot;Page should have contained text '</span><span class="s2">{</span><span class="s1">text</span><span class="s2">}</span><span class="s4">' but did not.&quot;</span>
            <span class="s3">)</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">info</span><span class="s3">(</span><span class="s4">f&quot;Current page contains text '</span><span class="s2">{</span><span class="s1">text</span><span class="s2">}</span><span class="s4">'.&quot;</span><span class="s3">)</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">page_should_contain_element</span><span class="s3">(</span>
        <span class="s1">self</span><span class="s3">,</span>
        <span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">, </span><span class="s1">List</span><span class="s3">[</span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">,</span><span class="s1">str</span><span class="s3">]]],</span>
        <span class="s1">message</span><span class="s3">: </span><span class="s1">Optional</span><span class="s3">[</span><span class="s1">str</span><span class="s3">] = </span><span class="s2">None</span><span class="s3">,</span>
        <span class="s1">loglevel</span><span class="s3">: </span><span class="s1">str </span><span class="s3">= </span><span class="s4">&quot;TRACE&quot;</span><span class="s3">,</span>
        <span class="s1">limit</span><span class="s3">: </span><span class="s1">Optional</span><span class="s3">[</span><span class="s1">int</span><span class="s3">] = </span><span class="s2">None</span><span class="s3">,</span>
    <span class="s3">):</span>
        <span class="s5">&quot;&quot;&quot;Verifies that element ``locator`` is found on the current page. 
 
        See the `Locating elements` section for details about the locator 
        syntax. 
 
        The ``message`` argument can be used to override the default error 
        message. 
 
        The ``limit`` argument can used to define how many elements the 
        page should contain. When ``limit`` is ``None`` (default) page can 
        contain one or more elements. When limit is a number, page must 
        contain same number of elements. 
 
        See `Page Should Contain` for an explanation about the ``loglevel`` 
        argument. 
 
        Examples assumes that locator matches to two elements. 
        | `Page Should Contain Element` | div_name | limit=1    | # Keyword fails.                  | 
        | `Page Should Contain Element` | div_name | limit=2    | # Keyword passes.                 | 
        | `Page Should Contain Element` | div_name | limit=none | # None is considered one or more. | 
        | `Page Should Contain Element` | div_name |            | # Same as above.                  | 
 
        The ``limit`` argument is new in SeleniumLibrary 3.0. 
        &quot;&quot;&quot;</span>
        <span class="s2">if </span><span class="s1">limit </span><span class="s2">is None</span><span class="s3">:</span>
            <span class="s2">return </span><span class="s1">self</span><span class="s3">.</span><span class="s1">assert_page_contains</span><span class="s3">(</span>
                <span class="s1">locator</span><span class="s3">, </span><span class="s1">message</span><span class="s3">=</span><span class="s1">message</span><span class="s3">, </span><span class="s1">loglevel</span><span class="s3">=</span><span class="s1">loglevel</span>
            <span class="s3">)</span>
        <span class="s1">count </span><span class="s3">= </span><span class="s1">len</span><span class="s3">(</span><span class="s1">self</span><span class="s3">.</span><span class="s1">find_elements</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">))</span>
        <span class="s2">if </span><span class="s1">count </span><span class="s3">== </span><span class="s1">limit</span><span class="s3">:</span>
            <span class="s1">self</span><span class="s3">.</span><span class="s1">info</span><span class="s3">(</span><span class="s4">f&quot;Current page contains </span><span class="s2">{</span><span class="s1">count</span><span class="s2">} </span><span class="s4">element(s).&quot;</span><span class="s3">)</span>
        <span class="s2">else</span><span class="s3">:</span>
            <span class="s2">if </span><span class="s1">message </span><span class="s2">is None</span><span class="s3">:</span>
                <span class="s1">message </span><span class="s3">= (</span>
                    <span class="s4">f'Page should have contained &quot;</span><span class="s2">{</span><span class="s1">limit</span><span class="s2">}</span><span class="s4">&quot; element(s), '</span>
                    <span class="s4">f'but it did contain &quot;</span><span class="s2">{</span><span class="s1">count</span><span class="s2">}</span><span class="s4">&quot; element(s).'</span>
                <span class="s3">)</span>
            <span class="s1">self</span><span class="s3">.</span><span class="s1">ctx</span><span class="s3">.</span><span class="s1">log_source</span><span class="s3">(</span><span class="s1">loglevel</span><span class="s3">)</span>
            <span class="s2">raise </span><span class="s1">AssertionError</span><span class="s3">(</span><span class="s1">message</span><span class="s3">)</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">page_should_not_contain</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">text</span><span class="s3">: </span><span class="s1">str</span><span class="s3">, </span><span class="s1">loglevel</span><span class="s3">: </span><span class="s1">str </span><span class="s3">= </span><span class="s4">&quot;TRACE&quot;</span><span class="s3">):</span>
        <span class="s5">&quot;&quot;&quot;Verifies the current page does not contain ``text``. 
 
        See `Page Should Contain` for an explanation about the ``loglevel`` 
        argument. 
        &quot;&quot;&quot;</span>
        <span class="s2">if </span><span class="s1">self</span><span class="s3">.</span><span class="s1">_page_contains</span><span class="s3">(</span><span class="s1">text</span><span class="s3">):</span>
            <span class="s1">self</span><span class="s3">.</span><span class="s1">ctx</span><span class="s3">.</span><span class="s1">log_source</span><span class="s3">(</span><span class="s1">loglevel</span><span class="s3">)</span>
            <span class="s2">raise </span><span class="s1">AssertionError</span><span class="s3">(</span><span class="s4">f&quot;Page should not have contained text '</span><span class="s2">{</span><span class="s1">text</span><span class="s2">}</span><span class="s4">'.&quot;</span><span class="s3">)</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">info</span><span class="s3">(</span><span class="s4">f&quot;Current page does not contain text '</span><span class="s2">{</span><span class="s1">text</span><span class="s2">}</span><span class="s4">'.&quot;</span><span class="s3">)</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">page_should_not_contain_element</span><span class="s3">(</span>
        <span class="s1">self</span><span class="s3">,</span>
        <span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">],</span>
        <span class="s1">message</span><span class="s3">: </span><span class="s1">Optional</span><span class="s3">[</span><span class="s1">str</span><span class="s3">] = </span><span class="s2">None</span><span class="s3">,</span>
        <span class="s1">loglevel</span><span class="s3">: </span><span class="s1">str </span><span class="s3">= </span><span class="s4">&quot;TRACE&quot;</span><span class="s3">,</span>
    <span class="s3">):</span>
        <span class="s5">&quot;&quot;&quot;Verifies that element ``locator`` is not found on the current page. 
 
        See the `Locating elements` section for details about the locator 
        syntax. 
 
        See `Page Should Contain` for an explanation about ``message`` and 
        ``loglevel`` arguments. 
        &quot;&quot;&quot;</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">assert_page_not_contains</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">, </span><span class="s1">message</span><span class="s3">=</span><span class="s1">message</span><span class="s3">, </span><span class="s1">loglevel</span><span class="s3">=</span><span class="s1">loglevel</span><span class="s3">)</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">assign_id_to_element</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">], </span><span class="s1">id</span><span class="s3">: </span><span class="s1">str</span><span class="s3">):</span>
        <span class="s5">&quot;&quot;&quot;Assigns a temporary ``id`` to the element specified by ``locator``. 
 
        This is mainly useful if the locator is complicated and/or slow XPath 
        expression and it is needed multiple times. Identifier expires when 
        the page is reloaded. 
 
        See the `Locating elements` section for details about the locator 
        syntax. 
 
        Example: 
        | `Assign ID to Element` | //ul[@class='example' and ./li[contains(., 'Stuff')]] | my id | 
        | `Page Should Contain Element` | my id | 
        &quot;&quot;&quot;</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">info</span><span class="s3">(</span><span class="s4">f&quot;Assigning temporary id '</span><span class="s2">{</span><span class="s1">id</span><span class="s2">}</span><span class="s4">' to element '</span><span class="s2">{</span><span class="s1">locator</span><span class="s2">}</span><span class="s4">'.&quot;</span><span class="s3">)</span>
        <span class="s1">element </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">find_element</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">)</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">driver</span><span class="s3">.</span><span class="s1">execute_script</span><span class="s3">(</span><span class="s4">f&quot;arguments[0].id = '</span><span class="s2">{</span><span class="s1">id</span><span class="s2">}</span><span class="s4">';&quot;</span><span class="s3">, </span><span class="s1">element</span><span class="s3">)</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">element_should_be_disabled</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">]):</span>
        <span class="s5">&quot;&quot;&quot;Verifies that element identified by ``locator`` is disabled. 
 
        This keyword considers also elements that are read-only to be 
        disabled. 
 
        See the `Locating elements` section for details about the locator 
        syntax. 
        &quot;&quot;&quot;</span>
        <span class="s2">if </span><span class="s1">self</span><span class="s3">.</span><span class="s1">is_element_enabled</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">):</span>
            <span class="s2">raise </span><span class="s1">AssertionError</span><span class="s3">(</span><span class="s4">f&quot;Element '</span><span class="s2">{</span><span class="s1">locator</span><span class="s2">}</span><span class="s4">' is enabled.&quot;</span><span class="s3">)</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">element_should_be_enabled</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">]):</span>
        <span class="s5">&quot;&quot;&quot;Verifies that element identified by ``locator`` is enabled. 
 
        This keyword considers also elements that are read-only to be 
        disabled. 
 
        See the `Locating elements` section for details about the locator 
        syntax. 
        &quot;&quot;&quot;</span>
        <span class="s2">if not </span><span class="s1">self</span><span class="s3">.</span><span class="s1">is_element_enabled</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">):</span>
            <span class="s2">raise </span><span class="s1">AssertionError</span><span class="s3">(</span><span class="s4">f&quot;Element '</span><span class="s2">{</span><span class="s1">locator</span><span class="s2">}</span><span class="s4">' is disabled.&quot;</span><span class="s3">)</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">element_should_be_focused</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">]):</span>
        <span class="s5">&quot;&quot;&quot;Verifies that element identified by ``locator`` is focused. 
 
        See the `Locating elements` section for details about the locator 
        syntax. 
 
        New in SeleniumLibrary 3.0. 
        &quot;&quot;&quot;</span>
        <span class="s1">element </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">find_element</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">)</span>
        <span class="s1">focused </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">driver</span><span class="s3">.</span><span class="s1">switch_to</span><span class="s3">.</span><span class="s1">active_element</span>
        <span class="s0"># Selenium 3.6.0 with Firefox return dict which contains the selenium WebElement</span>
        <span class="s2">if </span><span class="s1">isinstance</span><span class="s3">(</span><span class="s1">focused</span><span class="s3">, </span><span class="s1">dict</span><span class="s3">):</span>
            <span class="s1">focused </span><span class="s3">= </span><span class="s1">focused</span><span class="s3">[</span><span class="s4">&quot;value&quot;</span><span class="s3">]</span>
        <span class="s2">if </span><span class="s1">element </span><span class="s3">!= </span><span class="s1">focused</span><span class="s3">:</span>
            <span class="s2">raise </span><span class="s1">AssertionError</span><span class="s3">(</span><span class="s4">f&quot;Element '</span><span class="s2">{</span><span class="s1">locator</span><span class="s2">}</span><span class="s4">' does not have focus.&quot;</span><span class="s3">)</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">element_should_be_visible</span><span class="s3">(</span>
        <span class="s1">self</span><span class="s3">, </span><span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">], </span><span class="s1">message</span><span class="s3">: </span><span class="s1">Optional</span><span class="s3">[</span><span class="s1">str</span><span class="s3">] = </span><span class="s2">None</span>
    <span class="s3">):</span>
        <span class="s5">&quot;&quot;&quot;Verifies that the element identified by ``locator`` is visible. 
 
        Herein, visible means that the element is logically visible, not 
        optically visible in the current browser viewport. For example, 
        an element that carries ``display:none`` is not logically visible, 
        so using this keyword on that element would fail. 
 
        See the `Locating elements` section for details about the locator 
        syntax. 
 
        The ``message`` argument can be used to override the default error 
        message. 
        &quot;&quot;&quot;</span>
        <span class="s2">if not </span><span class="s1">self</span><span class="s3">.</span><span class="s1">find_element</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">).</span><span class="s1">is_displayed</span><span class="s3">():</span>
            <span class="s2">if </span><span class="s1">message </span><span class="s2">is None</span><span class="s3">:</span>
                <span class="s1">message </span><span class="s3">= </span><span class="s4">f&quot;The element '</span><span class="s2">{</span><span class="s1">locator</span><span class="s2">}</span><span class="s4">' should be visible, but it is not.&quot;</span>
            <span class="s2">raise </span><span class="s1">AssertionError</span><span class="s3">(</span><span class="s1">message</span><span class="s3">)</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">info</span><span class="s3">(</span><span class="s4">f&quot;Element '</span><span class="s2">{</span><span class="s1">locator</span><span class="s2">}</span><span class="s4">' is displayed.&quot;</span><span class="s3">)</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">element_should_not_be_visible</span><span class="s3">(</span>
        <span class="s1">self</span><span class="s3">, </span><span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">], </span><span class="s1">message</span><span class="s3">: </span><span class="s1">Optional</span><span class="s3">[</span><span class="s1">str</span><span class="s3">] = </span><span class="s2">None</span>
    <span class="s3">):</span>
        <span class="s5">&quot;&quot;&quot;Verifies that the element identified by ``locator`` is NOT visible. 
 
        Passes if the element does not exists. See `Element Should Be Visible` 
        for more information about visibility and supported arguments. 
        &quot;&quot;&quot;</span>
        <span class="s1">element </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">find_element</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">, </span><span class="s1">required</span><span class="s3">=</span><span class="s2">False</span><span class="s3">)</span>
        <span class="s2">if </span><span class="s1">element </span><span class="s2">is None</span><span class="s3">:</span>
            <span class="s1">self</span><span class="s3">.</span><span class="s1">info</span><span class="s3">(</span><span class="s4">f&quot;Element '</span><span class="s2">{</span><span class="s1">locator</span><span class="s2">}</span><span class="s4">' did not exist.&quot;</span><span class="s3">)</span>
        <span class="s2">elif not </span><span class="s1">element</span><span class="s3">.</span><span class="s1">is_displayed</span><span class="s3">():</span>
            <span class="s1">self</span><span class="s3">.</span><span class="s1">info</span><span class="s3">(</span><span class="s4">f&quot;Element '</span><span class="s2">{</span><span class="s1">locator</span><span class="s2">}</span><span class="s4">' exists but is not displayed.&quot;</span><span class="s3">)</span>
        <span class="s2">else</span><span class="s3">:</span>
            <span class="s2">if </span><span class="s1">message </span><span class="s2">is None</span><span class="s3">:</span>
                <span class="s1">message </span><span class="s3">= </span><span class="s4">f&quot;The element '</span><span class="s2">{</span><span class="s1">locator</span><span class="s2">}</span><span class="s4">' should not be visible, but it is.&quot;</span>
            <span class="s2">raise </span><span class="s1">AssertionError</span><span class="s3">(</span><span class="s1">message</span><span class="s3">)</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">element_text_should_be</span><span class="s3">(</span>
        <span class="s1">self</span><span class="s3">,</span>
        <span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">],</span>
        <span class="s1">expected</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s2">None</span><span class="s3">, </span><span class="s1">str</span><span class="s3">],</span>
        <span class="s1">message</span><span class="s3">: </span><span class="s1">Optional</span><span class="s3">[</span><span class="s1">str</span><span class="s3">] = </span><span class="s2">None</span><span class="s3">,</span>
        <span class="s1">ignore_case</span><span class="s3">: </span><span class="s1">bool </span><span class="s3">= </span><span class="s2">False</span><span class="s3">,</span>
    <span class="s3">):</span>
        <span class="s5">&quot;&quot;&quot;Verifies that element ``locator`` contains exact the text ``expected``. 
 
        See the `Locating elements` section for details about the locator 
        syntax. 
 
        The ``message`` argument can be used to override the default error 
        message. 
 
        The ``ignore_case`` argument can be set to True to compare case 
        insensitive, default is False. 
 
        ``ignore_case`` argument is new in SeleniumLibrary 3.1. 
 
        Use `Element Should Contain` if a substring match is desired. 
        &quot;&quot;&quot;</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">info</span><span class="s3">(</span><span class="s4">f&quot;Verifying element '</span><span class="s2">{</span><span class="s1">locator</span><span class="s2">}</span><span class="s4">' contains exact text '</span><span class="s2">{</span><span class="s1">expected</span><span class="s2">}</span><span class="s4">'.&quot;</span><span class="s3">)</span>
        <span class="s1">text </span><span class="s3">= </span><span class="s1">before_text </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">find_element</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">).</span><span class="s1">text</span>
        <span class="s2">if </span><span class="s1">ignore_case</span><span class="s3">:</span>
            <span class="s1">text </span><span class="s3">= </span><span class="s1">text</span><span class="s3">.</span><span class="s1">lower</span><span class="s3">()</span>
            <span class="s1">expected </span><span class="s3">= </span><span class="s1">expected</span><span class="s3">.</span><span class="s1">lower</span><span class="s3">()</span>
        <span class="s2">if </span><span class="s1">text </span><span class="s3">!= </span><span class="s1">expected</span><span class="s3">:</span>
            <span class="s2">if </span><span class="s1">message </span><span class="s2">is None</span><span class="s3">:</span>
                <span class="s1">message </span><span class="s3">= (</span>
                    <span class="s4">f&quot;The text of element '</span><span class="s2">{</span><span class="s1">locator</span><span class="s2">}</span><span class="s4">' should have been '</span><span class="s2">{</span><span class="s1">expected</span><span class="s2">}</span><span class="s4">' &quot;</span>
                    <span class="s4">f&quot;but it was '</span><span class="s2">{</span><span class="s1">before_text</span><span class="s2">}</span><span class="s4">'.&quot;</span>
                <span class="s3">)</span>
            <span class="s2">raise </span><span class="s1">AssertionError</span><span class="s3">(</span><span class="s1">message</span><span class="s3">)</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">element_text_should_not_be</span><span class="s3">(</span>
        <span class="s1">self</span><span class="s3">,</span>
        <span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">],</span>
        <span class="s1">not_expected</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s2">None</span><span class="s3">, </span><span class="s1">str</span><span class="s3">],</span>
        <span class="s1">message</span><span class="s3">: </span><span class="s1">Optional</span><span class="s3">[</span><span class="s1">str</span><span class="s3">] = </span><span class="s2">None</span><span class="s3">,</span>
        <span class="s1">ignore_case</span><span class="s3">: </span><span class="s1">bool </span><span class="s3">= </span><span class="s2">False</span><span class="s3">,</span>
    <span class="s3">):</span>
        <span class="s5">&quot;&quot;&quot;Verifies that element ``locator`` does not contain exact the text ``not_expected``. 
 
        See the `Locating elements` section for details about the locator 
        syntax. 
 
        The ``message`` argument can be used to override the default error 
        message. 
 
        The ``ignore_case`` argument can be set to True to compare case 
        insensitive, default is False. 
 
        New in SeleniumLibrary 3.1.1 
        &quot;&quot;&quot;</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">info</span><span class="s3">(</span>
            <span class="s4">f&quot;Verifying element '</span><span class="s2">{</span><span class="s1">locator</span><span class="s2">}</span><span class="s4">' does not contain exact text '</span><span class="s2">{</span><span class="s1">not_expected</span><span class="s2">}</span><span class="s4">'.&quot;</span>
        <span class="s3">)</span>
        <span class="s1">text </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">find_element</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">).</span><span class="s1">text</span>
        <span class="s1">before_not_expected </span><span class="s3">= </span><span class="s1">not_expected</span>
        <span class="s2">if </span><span class="s1">ignore_case</span><span class="s3">:</span>
            <span class="s1">text </span><span class="s3">= </span><span class="s1">text</span><span class="s3">.</span><span class="s1">lower</span><span class="s3">()</span>
            <span class="s1">not_expected </span><span class="s3">= </span><span class="s1">not_expected</span><span class="s3">.</span><span class="s1">lower</span><span class="s3">()</span>
        <span class="s2">if </span><span class="s1">text </span><span class="s3">== </span><span class="s1">not_expected</span><span class="s3">:</span>
            <span class="s2">if </span><span class="s1">message </span><span class="s2">is None</span><span class="s3">:</span>
                <span class="s1">message </span><span class="s3">= </span><span class="s4">f&quot;The text of element '</span><span class="s2">{</span><span class="s1">locator</span><span class="s2">}</span><span class="s4">' was not supposed to be '</span><span class="s2">{</span><span class="s1">before_not_expected</span><span class="s2">}</span><span class="s4">'.&quot;</span>
            <span class="s2">raise </span><span class="s1">AssertionError</span><span class="s3">(</span><span class="s1">message</span><span class="s3">)</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">get_element_attribute</span><span class="s3">(</span>
        <span class="s1">self</span><span class="s3">, </span><span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">], </span><span class="s1">attribute</span><span class="s3">: </span><span class="s1">str</span>
    <span class="s3">) </span><span class="s1">-&gt; str</span><span class="s3">:</span>
        <span class="s5">&quot;&quot;&quot;Returns the value of ``attribute`` from the element ``locator``. 
 
        See the `Locating elements` section for details about the locator 
        syntax. 
 
        Example: 
        | ${id}= | `Get Element Attribute` | css:h1 | id | 
 
        Passing attribute name as part of the ``locator`` was removed 
        in SeleniumLibrary 3.2. The explicit ``attribute`` argument 
        should be used instead. 
        &quot;&quot;&quot;</span>
        <span class="s2">return </span><span class="s1">self</span><span class="s3">.</span><span class="s1">find_element</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">).</span><span class="s1">get_attribute</span><span class="s3">(</span><span class="s1">attribute</span><span class="s3">)</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">get_dom_attribute</span><span class="s3">(</span>
        <span class="s1">self</span><span class="s3">, </span><span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">], </span><span class="s1">attribute</span><span class="s3">: </span><span class="s1">str</span>
    <span class="s3">) </span><span class="s1">-&gt; str</span><span class="s3">:</span>
        <span class="s5">&quot;&quot;&quot;Returns the value of ``attribute`` from the element ``locator``. `Get DOM Attribute` keyword 
        only returns attributes declared within the element's HTML markup.  If the requested attribute 
        is not there, the keyword returns ${None}. 
 
        See the `Locating elements` section for details about the locator 
        syntax. 
 
        Example: 
        | ${id}= | `Get DOM Attribute` | css:h1 | id | 
 
        &quot;&quot;&quot;</span>
        <span class="s2">return </span><span class="s1">self</span><span class="s3">.</span><span class="s1">find_element</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">).</span><span class="s1">get_dom_attribute</span><span class="s3">(</span><span class="s1">attribute</span><span class="s3">)</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">get_property</span><span class="s3">(</span>
        <span class="s1">self</span><span class="s3">, </span><span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">], </span><span class="s1">property</span><span class="s3">: </span><span class="s1">str</span>
    <span class="s3">) </span><span class="s1">-&gt; str</span><span class="s3">:</span>
        <span class="s5">&quot;&quot;&quot;Returns the value of ``property`` from the element ``locator``. 
 
        See the `Locating elements` section for details about the locator 
        syntax. 
 
        Example: 
        | ${text_length}= | `Get Property` | css:h1 | text_length | 
 
        &quot;&quot;&quot;</span>
        <span class="s2">return </span><span class="s1">self</span><span class="s3">.</span><span class="s1">find_element</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">).</span><span class="s1">get_property</span><span class="s3">(</span><span class="s1">property</span><span class="s3">)</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">element_attribute_value_should_be</span><span class="s3">(</span>
        <span class="s1">self</span><span class="s3">,</span>
        <span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">],</span>
        <span class="s1">attribute</span><span class="s3">: </span><span class="s1">str</span><span class="s3">,</span>
        <span class="s1">expected</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s2">None</span><span class="s3">, </span><span class="s1">str</span><span class="s3">],</span>
        <span class="s1">message</span><span class="s3">: </span><span class="s1">Optional</span><span class="s3">[</span><span class="s1">str</span><span class="s3">] = </span><span class="s2">None</span><span class="s3">,</span>
    <span class="s3">):</span>
        <span class="s5">&quot;&quot;&quot;Verifies element identified by ``locator`` contains expected attribute value. 
 
        See the `Locating elements` section for details about the locator 
        syntax. 
 
        Example: 
        `Element Attribute Value Should Be` | css:img | href | value 
 
        New in SeleniumLibrary 3.2. 
        &quot;&quot;&quot;</span>
        <span class="s1">current_expected </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">find_element</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">).</span><span class="s1">get_attribute</span><span class="s3">(</span><span class="s1">attribute</span><span class="s3">)</span>
        <span class="s2">if </span><span class="s1">current_expected </span><span class="s3">!= </span><span class="s1">expected</span><span class="s3">:</span>
            <span class="s2">if </span><span class="s1">message </span><span class="s2">is None</span><span class="s3">:</span>
                <span class="s1">message </span><span class="s3">= (</span>
                    <span class="s4">f&quot;Element '</span><span class="s2">{</span><span class="s1">locator</span><span class="s2">}</span><span class="s4">' attribute should have value '</span><span class="s2">{</span><span class="s1">expected</span><span class="s2">}</span><span class="s4">' &quot;</span>
                    <span class="s4">f&quot;(</span><span class="s2">{</span><span class="s1">type_converter</span><span class="s3">(</span><span class="s1">expected</span><span class="s3">)</span><span class="s2">}</span><span class="s4">) but its value was '</span><span class="s2">{</span><span class="s1">current_expected</span><span class="s2">}</span><span class="s4">' &quot;</span>
                    <span class="s4">f&quot;(</span><span class="s2">{</span><span class="s1">type_converter</span><span class="s3">(</span><span class="s1">current_expected</span><span class="s3">)</span><span class="s2">}</span><span class="s4">).&quot;</span>
                <span class="s3">)</span>
            <span class="s2">raise </span><span class="s1">AssertionError</span><span class="s3">(</span><span class="s1">message</span><span class="s3">)</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">info</span><span class="s3">(</span>
            <span class="s4">f&quot;Element '</span><span class="s2">{</span><span class="s1">locator</span><span class="s2">}</span><span class="s4">' attribute '</span><span class="s2">{</span><span class="s1">attribute</span><span class="s2">}</span><span class="s4">' contains value '</span><span class="s2">{</span><span class="s1">expected</span><span class="s2">}</span><span class="s4">'.&quot;</span>
        <span class="s3">)</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">get_horizontal_position</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">]) </span><span class="s1">-&gt; int</span><span class="s3">:</span>
        <span class="s5">&quot;&quot;&quot;Returns the horizontal position of the element identified by ``locator``. 
 
        See the `Locating elements` section for details about the locator 
        syntax. 
 
        The position is returned in pixels off the left side of the page, 
        as an integer. 
 
        See also `Get Vertical Position`. 
        &quot;&quot;&quot;</span>
        <span class="s2">return </span><span class="s1">self</span><span class="s3">.</span><span class="s1">find_element</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">).</span><span class="s1">location</span><span class="s3">[</span><span class="s4">&quot;x&quot;</span><span class="s3">]</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">get_element_size</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">]) </span><span class="s1">-&gt; Tuple</span><span class="s3">[</span><span class="s1">int</span><span class="s3">, </span><span class="s1">int</span><span class="s3">]:</span>
        <span class="s5">&quot;&quot;&quot;Returns width and height of the element identified by ``locator``. 
 
        See the `Locating elements` section for details about the locator 
        syntax. 
 
        Both width and height are returned as integers. 
 
        Example: 
        | ${width} | ${height} = | `Get Element Size` | css:div#container | 
        &quot;&quot;&quot;</span>
        <span class="s1">element </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">find_element</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">)</span>
        <span class="s2">return </span><span class="s1">element</span><span class="s3">.</span><span class="s1">size</span><span class="s3">[</span><span class="s4">&quot;width&quot;</span><span class="s3">], </span><span class="s1">element</span><span class="s3">.</span><span class="s1">size</span><span class="s3">[</span><span class="s4">&quot;height&quot;</span><span class="s3">]</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">cover_element</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">]):</span>
        <span class="s5">&quot;&quot;&quot;Will cover elements identified by ``locator`` with a blue div without breaking page layout. 
 
        See the `Locating elements` section for details about the locator 
        syntax. 
 
        New in SeleniumLibrary 3.3.0 
 
        Example: 
        |`Cover Element` | css:div#container | 
        &quot;&quot;&quot;</span>
        <span class="s1">elements </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">find_elements</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">)</span>
        <span class="s2">if not </span><span class="s1">elements</span><span class="s3">:</span>
            <span class="s2">raise </span><span class="s1">ElementNotFound</span><span class="s3">(</span><span class="s4">f&quot;No element with locator '</span><span class="s2">{</span><span class="s1">locator</span><span class="s2">}</span><span class="s4">' found.&quot;</span><span class="s3">)</span>
        <span class="s2">for </span><span class="s1">element </span><span class="s2">in </span><span class="s1">elements</span><span class="s3">:</span>
            <span class="s1">script </span><span class="s3">= </span><span class="s4">&quot;&quot;&quot; 
old_element = arguments[0]; 
let newDiv = document.createElement('div'); 
newDiv.setAttribute(&quot;name&quot;, &quot;covered&quot;); 
newDiv.style.backgroundColor = 'blue'; 
newDiv.style.zIndex = '999'; 
newDiv.style.top = old_element.offsetTop + 'px'; 
newDiv.style.left = old_element.offsetLeft + 'px'; 
newDiv.style.height = old_element.offsetHeight + 'px'; 
newDiv.style.width = old_element.offsetWidth + 'px'; 
old_element.parentNode.insertBefore(newDiv, old_element); 
old_element.remove(); 
newDiv.parentNode.style.overflow = 'hidden'; 
        &quot;&quot;&quot;</span>
            <span class="s1">self</span><span class="s3">.</span><span class="s1">driver</span><span class="s3">.</span><span class="s1">execute_script</span><span class="s3">(</span><span class="s1">script</span><span class="s3">, </span><span class="s1">element</span><span class="s3">)</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">get_value</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">]) </span><span class="s1">-&gt; str</span><span class="s3">:</span>
        <span class="s5">&quot;&quot;&quot;Returns the value attribute of the element identified by ``locator``. 
 
        See the `Locating elements` section for details about the locator 
        syntax. 
        &quot;&quot;&quot;</span>
        <span class="s2">return </span><span class="s1">self</span><span class="s3">.</span><span class="s1">get_element_attribute</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">, </span><span class="s4">&quot;value&quot;</span><span class="s3">)</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">get_text</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">]) </span><span class="s1">-&gt; str</span><span class="s3">:</span>
        <span class="s5">&quot;&quot;&quot;Returns the text value of the element identified by ``locator``. 
 
        See the `Locating elements` section for details about the locator 
        syntax. 
        &quot;&quot;&quot;</span>
        <span class="s2">return </span><span class="s1">self</span><span class="s3">.</span><span class="s1">find_element</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">).</span><span class="s1">text</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">clear_element_text</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">]):</span>
        <span class="s5">&quot;&quot;&quot;Clears the value of the text-input-element identified by ``locator``. 
 
        See the `Locating elements` section for details about the locator 
        syntax. 
        &quot;&quot;&quot;</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">find_element</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">).</span><span class="s1">clear</span><span class="s3">()</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">get_vertical_position</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">]) </span><span class="s1">-&gt; int</span><span class="s3">:</span>
        <span class="s5">&quot;&quot;&quot;Returns the vertical position of the element identified by ``locator``. 
 
        See the `Locating elements` section for details about the locator 
        syntax. 
 
        The position is returned in pixels off the top of the page, 
        as an integer. 
 
        See also `Get Horizontal Position`. 
        &quot;&quot;&quot;</span>
        <span class="s2">return </span><span class="s1">self</span><span class="s3">.</span><span class="s1">find_element</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">).</span><span class="s1">location</span><span class="s3">[</span><span class="s4">&quot;y&quot;</span><span class="s3">]</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">click_button</span><span class="s3">(</span>
        <span class="s1">self</span><span class="s3">, </span><span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">], </span><span class="s1">modifier</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">bool</span><span class="s3">, </span><span class="s1">str</span><span class="s3">] = </span><span class="s2">False</span>
    <span class="s3">):</span>
        <span class="s5">&quot;&quot;&quot;Clicks the button identified by ``locator``. 
 
        See the `Locating elements` section for details about the locator 
        syntax. When using the default locator strategy, buttons are 
        searched using ``id``, ``name``, and ``value``. 
 
        See the `Click Element` keyword for details about the 
        ``modifier`` argument. 
 
        The ``modifier`` argument is new in SeleniumLibrary 3.3 
        &quot;&quot;&quot;</span>
        <span class="s2">if not </span><span class="s1">modifier</span><span class="s3">:</span>
            <span class="s1">self</span><span class="s3">.</span><span class="s1">info</span><span class="s3">(</span><span class="s4">f&quot;Clicking button '</span><span class="s2">{</span><span class="s1">locator</span><span class="s2">}</span><span class="s4">'.&quot;</span><span class="s3">)</span>
            <span class="s1">element </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">find_element</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">, </span><span class="s1">tag</span><span class="s3">=</span><span class="s4">&quot;input&quot;</span><span class="s3">, </span><span class="s1">required</span><span class="s3">=</span><span class="s2">False</span><span class="s3">)</span>
            <span class="s2">if not </span><span class="s1">element</span><span class="s3">:</span>
                <span class="s1">element </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">find_element</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">, </span><span class="s1">tag</span><span class="s3">=</span><span class="s4">&quot;button&quot;</span><span class="s3">)</span>
            <span class="s1">element</span><span class="s3">.</span><span class="s1">click</span><span class="s3">()</span>
        <span class="s2">else</span><span class="s3">:</span>
            <span class="s1">self</span><span class="s3">.</span><span class="s1">_click_with_modifier</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">, [</span><span class="s4">&quot;button&quot;</span><span class="s3">, </span><span class="s4">&quot;input&quot;</span><span class="s3">], </span><span class="s1">modifier</span><span class="s3">)</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">click_image</span><span class="s3">(</span>
        <span class="s1">self</span><span class="s3">, </span><span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">], </span><span class="s1">modifier</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">bool</span><span class="s3">, </span><span class="s1">str</span><span class="s3">] = </span><span class="s2">False</span>
    <span class="s3">):</span>
        <span class="s5">&quot;&quot;&quot;Clicks an image identified by ``locator``. 
 
        See the `Locating elements` section for details about the locator 
        syntax. When using the default locator strategy, images are searched 
        using ``id``, ``name``, ``src`` and ``alt``. 
 
        See the `Click Element` keyword for details about the 
        ``modifier`` argument. 
 
        The ``modifier`` argument is new in SeleniumLibrary 3.3 
        &quot;&quot;&quot;</span>
        <span class="s2">if not </span><span class="s1">modifier</span><span class="s3">:</span>
            <span class="s1">self</span><span class="s3">.</span><span class="s1">info</span><span class="s3">(</span><span class="s4">f&quot;Clicking image '</span><span class="s2">{</span><span class="s1">locator</span><span class="s2">}</span><span class="s4">'.&quot;</span><span class="s3">)</span>
            <span class="s1">element </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">find_element</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">, </span><span class="s1">tag</span><span class="s3">=</span><span class="s4">&quot;image&quot;</span><span class="s3">, </span><span class="s1">required</span><span class="s3">=</span><span class="s2">False</span><span class="s3">)</span>
            <span class="s2">if not </span><span class="s1">element</span><span class="s3">:</span>
                <span class="s0"># A form may have an image as it's submit trigger.</span>
                <span class="s1">element </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">find_element</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">, </span><span class="s1">tag</span><span class="s3">=</span><span class="s4">&quot;input&quot;</span><span class="s3">)</span>
            <span class="s1">element</span><span class="s3">.</span><span class="s1">click</span><span class="s3">()</span>
        <span class="s2">else</span><span class="s3">:</span>
            <span class="s1">self</span><span class="s3">.</span><span class="s1">_click_with_modifier</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">, [</span><span class="s4">&quot;image&quot;</span><span class="s3">, </span><span class="s4">&quot;input&quot;</span><span class="s3">], </span><span class="s1">modifier</span><span class="s3">)</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">click_link</span><span class="s3">(</span>
        <span class="s1">self</span><span class="s3">, </span><span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">], </span><span class="s1">modifier</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">bool</span><span class="s3">, </span><span class="s1">str</span><span class="s3">] = </span><span class="s2">False</span>
    <span class="s3">):</span>
        <span class="s5">&quot;&quot;&quot;Clicks a link identified by ``locator``. 
 
        See the `Locating elements` section for details about the locator 
        syntax. When using the default locator strategy, links are searched 
        using ``id``, ``name``, ``href`` and the link text. 
 
        See the `Click Element` keyword for details about the 
        ``modifier`` argument. 
 
        The ``modifier`` argument is new in SeleniumLibrary 3.3 
        &quot;&quot;&quot;</span>
        <span class="s2">if not </span><span class="s1">modifier</span><span class="s3">:</span>
            <span class="s1">self</span><span class="s3">.</span><span class="s1">info</span><span class="s3">(</span><span class="s4">f&quot;Clicking link '</span><span class="s2">{</span><span class="s1">locator</span><span class="s2">}</span><span class="s4">'.&quot;</span><span class="s3">)</span>
            <span class="s1">self</span><span class="s3">.</span><span class="s1">find_element</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">, </span><span class="s1">tag</span><span class="s3">=</span><span class="s4">&quot;link&quot;</span><span class="s3">).</span><span class="s1">click</span><span class="s3">()</span>
        <span class="s2">else</span><span class="s3">:</span>
            <span class="s1">self</span><span class="s3">.</span><span class="s1">_click_with_modifier</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">, [</span><span class="s4">&quot;link&quot;</span><span class="s3">, </span><span class="s4">&quot;link&quot;</span><span class="s3">], </span><span class="s1">modifier</span><span class="s3">)</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">click_element</span><span class="s3">(</span>
        <span class="s1">self</span><span class="s3">,</span>
        <span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">],</span>
        <span class="s1">modifier</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">bool</span><span class="s3">, </span><span class="s1">str</span><span class="s3">] = </span><span class="s2">False</span><span class="s3">,</span>
        <span class="s1">action_chain</span><span class="s3">: </span><span class="s1">bool </span><span class="s3">= </span><span class="s2">False</span><span class="s3">,</span>
    <span class="s3">):</span>
        <span class="s5">&quot;&quot;&quot;Click the element identified by ``locator``. 
 
        See the `Locating elements` section for details about the locator 
        syntax. 
 
        The ``modifier`` argument can be used to pass 
        [https://seleniumhq.github.io/selenium/docs/api/py/webdriver/selenium.webdriver.common.keys.html#selenium.webdriver.common.keys.Keys|Selenium Keys] 
        when clicking the element. The `+` can be used as a separator 
        for different Selenium Keys. The `CTRL` is internally translated to 
        the `CONTROL` key. The ``modifier`` is space and case insensitive, example 
        &quot;alt&quot; and &quot; aLt &quot; are supported formats to 
        [https://seleniumhq.github.io/selenium/docs/api/py/webdriver/selenium.webdriver.common.keys.html#selenium.webdriver.common.keys.Keys.ALT|ALT key] 
        . If ``modifier`` does not match to Selenium Keys, keyword fails. 
 
        If ``action_chain`` argument is true, see `Boolean arguments` for more 
        details on how to set boolean argument, then keyword uses ActionChain 
        based click instead of the &lt;web_element&gt;.click() function. If both 
        ``action_chain`` and ``modifier`` are defined, the click will be 
        performed using ``modifier`` and ``action_chain`` will be ignored. 
 
        Example: 
        | Click Element | id:button |                   | # Would click element without any modifiers.               | 
        | Click Element | id:button | CTRL              | # Would click element with CTLR key pressed down.          | 
        | Click Element | id:button | CTRL+ALT          | # Would click element with CTLR and ALT keys pressed down. | 
        | Click Element | id:button | action_chain=True | # Clicks the button using an Selenium  ActionChains        | 
 
        The ``modifier`` argument is new in SeleniumLibrary 3.2 
        The ``action_chain`` argument is new in SeleniumLibrary 4.1 
        &quot;&quot;&quot;</span>
        <span class="s2">if </span><span class="s1">is_truthy</span><span class="s3">(</span><span class="s1">modifier</span><span class="s3">):</span>
            <span class="s1">self</span><span class="s3">.</span><span class="s1">_click_with_modifier</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">, [</span><span class="s2">None</span><span class="s3">, </span><span class="s2">None</span><span class="s3">], </span><span class="s1">modifier</span><span class="s3">)</span>
        <span class="s2">elif </span><span class="s1">action_chain</span><span class="s3">:</span>
            <span class="s1">self</span><span class="s3">.</span><span class="s1">_click_with_action_chain</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">)</span>
        <span class="s2">else</span><span class="s3">:</span>
            <span class="s1">self</span><span class="s3">.</span><span class="s1">info</span><span class="s3">(</span><span class="s4">f&quot;Clicking element '</span><span class="s2">{</span><span class="s1">locator</span><span class="s2">}</span><span class="s4">'.&quot;</span><span class="s3">)</span>
            <span class="s1">self</span><span class="s3">.</span><span class="s1">find_element</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">).</span><span class="s1">click</span><span class="s3">()</span>

    <span class="s2">def </span><span class="s1">_click_with_action_chain</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">]):</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">info</span><span class="s3">(</span><span class="s4">f&quot;Clicking '</span><span class="s2">{</span><span class="s1">locator</span><span class="s2">}</span><span class="s4">' using an action chain.&quot;</span><span class="s3">)</span>
        <span class="s1">action </span><span class="s3">= </span><span class="s1">ActionChains</span><span class="s3">(</span><span class="s1">self</span><span class="s3">.</span><span class="s1">driver</span><span class="s3">, </span><span class="s1">duration</span><span class="s3">=</span><span class="s1">self</span><span class="s3">.</span><span class="s1">ctx</span><span class="s3">.</span><span class="s1">action_chain_delay</span><span class="s3">)</span>
        <span class="s1">element </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">find_element</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">)</span>
        <span class="s1">action</span><span class="s3">.</span><span class="s1">move_to_element</span><span class="s3">(</span><span class="s1">element</span><span class="s3">)</span>
        <span class="s1">action</span><span class="s3">.</span><span class="s1">click</span><span class="s3">()</span>
        <span class="s1">action</span><span class="s3">.</span><span class="s1">perform</span><span class="s3">()</span>

    <span class="s2">def </span><span class="s1">_click_with_modifier</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">locator</span><span class="s3">, </span><span class="s1">tag</span><span class="s3">, </span><span class="s1">modifier</span><span class="s3">):</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">info</span><span class="s3">(</span>
            <span class="s4">f&quot;Clicking </span><span class="s2">{</span><span class="s1">tag </span><span class="s2">if </span><span class="s1">tag</span><span class="s3">[</span><span class="s6">0</span><span class="s3">] </span><span class="s2">else </span><span class="s4">'element'</span><span class="s2">} </span><span class="s4">'</span><span class="s2">{</span><span class="s1">locator</span><span class="s2">}</span><span class="s4">' with </span><span class="s2">{</span><span class="s1">modifier</span><span class="s2">}</span><span class="s4">.&quot;</span>
        <span class="s3">)</span>
        <span class="s1">modifier </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">parse_modifier</span><span class="s3">(</span><span class="s1">modifier</span><span class="s3">)</span>
        <span class="s1">action </span><span class="s3">= </span><span class="s1">ActionChains</span><span class="s3">(</span><span class="s1">self</span><span class="s3">.</span><span class="s1">driver</span><span class="s3">, </span><span class="s1">duration</span><span class="s3">=</span><span class="s1">self</span><span class="s3">.</span><span class="s1">ctx</span><span class="s3">.</span><span class="s1">action_chain_delay</span><span class="s3">)</span>
        <span class="s2">for </span><span class="s1">item </span><span class="s2">in </span><span class="s1">modifier</span><span class="s3">:</span>
            <span class="s1">action</span><span class="s3">.</span><span class="s1">key_down</span><span class="s3">(</span><span class="s1">item</span><span class="s3">)</span>
        <span class="s1">element </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">find_element</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">, </span><span class="s1">tag</span><span class="s3">=</span><span class="s1">tag</span><span class="s3">[</span><span class="s6">0</span><span class="s3">], </span><span class="s1">required</span><span class="s3">=</span><span class="s2">False</span><span class="s3">)</span>
        <span class="s2">if not </span><span class="s1">element</span><span class="s3">:</span>
            <span class="s1">element </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">find_element</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">, </span><span class="s1">tag</span><span class="s3">=</span><span class="s1">tag</span><span class="s3">[</span><span class="s6">1</span><span class="s3">])</span>
        <span class="s1">action</span><span class="s3">.</span><span class="s1">click</span><span class="s3">(</span><span class="s1">element</span><span class="s3">)</span>
        <span class="s2">for </span><span class="s1">item </span><span class="s2">in </span><span class="s1">modifier</span><span class="s3">:</span>
            <span class="s1">action</span><span class="s3">.</span><span class="s1">key_up</span><span class="s3">(</span><span class="s1">item</span><span class="s3">)</span>
        <span class="s1">action</span><span class="s3">.</span><span class="s1">perform</span><span class="s3">()</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">click_element_at_coordinates</span><span class="s3">(</span>
        <span class="s1">self</span><span class="s3">, </span><span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">], </span><span class="s1">xoffset</span><span class="s3">: </span><span class="s1">int</span><span class="s3">, </span><span class="s1">yoffset</span><span class="s3">: </span><span class="s1">int</span>
    <span class="s3">):</span>
        <span class="s5">&quot;&quot;&quot;Click the element ``locator`` at ``xoffset/yoffset``. 
 
        The Cursor is moved and the center of the element and x/y coordinates are 
        calculated from that point. 
 
        See the `Locating elements` section for details about the locator 
        syntax. 
        &quot;&quot;&quot;</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">info</span><span class="s3">(</span>
            <span class="s4">f&quot;Clicking element '</span><span class="s2">{</span><span class="s1">locator</span><span class="s2">}</span><span class="s4">' at coordinates x=</span><span class="s2">{</span><span class="s1">xoffset</span><span class="s2">}</span><span class="s4">, y=</span><span class="s2">{</span><span class="s1">yoffset</span><span class="s2">}</span><span class="s4">.&quot;</span>
        <span class="s3">)</span>
        <span class="s1">element </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">find_element</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">)</span>
        <span class="s1">action </span><span class="s3">= </span><span class="s1">ActionChains</span><span class="s3">(</span><span class="s1">self</span><span class="s3">.</span><span class="s1">driver</span><span class="s3">, </span><span class="s1">duration</span><span class="s3">=</span><span class="s1">self</span><span class="s3">.</span><span class="s1">ctx</span><span class="s3">.</span><span class="s1">action_chain_delay</span><span class="s3">)</span>
        <span class="s1">action</span><span class="s3">.</span><span class="s1">move_to_element</span><span class="s3">(</span><span class="s1">element</span><span class="s3">)</span>
        <span class="s1">action</span><span class="s3">.</span><span class="s1">move_by_offset</span><span class="s3">(</span><span class="s1">xoffset</span><span class="s3">, </span><span class="s1">yoffset</span><span class="s3">)</span>
        <span class="s1">action</span><span class="s3">.</span><span class="s1">click</span><span class="s3">()</span>
        <span class="s1">action</span><span class="s3">.</span><span class="s1">perform</span><span class="s3">()</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">double_click_element</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">]):</span>
        <span class="s5">&quot;&quot;&quot;Double clicks the element identified by ``locator``. 
 
        See the `Locating elements` section for details about the locator 
        syntax. 
        &quot;&quot;&quot;</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">info</span><span class="s3">(</span><span class="s4">f&quot;Double clicking element '</span><span class="s2">{</span><span class="s1">locator</span><span class="s2">}</span><span class="s4">'.&quot;</span><span class="s3">)</span>
        <span class="s1">element </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">find_element</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">)</span>
        <span class="s1">action </span><span class="s3">= </span><span class="s1">ActionChains</span><span class="s3">(</span><span class="s1">self</span><span class="s3">.</span><span class="s1">driver</span><span class="s3">, </span><span class="s1">duration</span><span class="s3">=</span><span class="s1">self</span><span class="s3">.</span><span class="s1">ctx</span><span class="s3">.</span><span class="s1">action_chain_delay</span><span class="s3">)</span>
        <span class="s1">action</span><span class="s3">.</span><span class="s1">double_click</span><span class="s3">(</span><span class="s1">element</span><span class="s3">).</span><span class="s1">perform</span><span class="s3">()</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">set_focus_to_element</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">]):</span>
        <span class="s5">&quot;&quot;&quot;Sets the focus to the element identified by ``locator``. 
 
        See the `Locating elements` section for details about the locator 
        syntax. 
 
        Prior to SeleniumLibrary 3.0 this keyword was named `Focus`. 
        &quot;&quot;&quot;</span>
        <span class="s1">element </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">find_element</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">)</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">driver</span><span class="s3">.</span><span class="s1">execute_script</span><span class="s3">(</span><span class="s4">&quot;arguments[0].focus();&quot;</span><span class="s3">, </span><span class="s1">element</span><span class="s3">)</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">scroll_element_into_view</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">]):</span>
        <span class="s5">&quot;&quot;&quot;Scrolls the element identified by ``locator`` into view. 
 
        See the `Locating elements` section for details about the locator 
        syntax. 
 
        New in SeleniumLibrary 3.2.0 
        &quot;&quot;&quot;</span>
        <span class="s1">element </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">find_element</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">)</span>
        <span class="s1">ActionChains</span><span class="s3">(</span><span class="s1">self</span><span class="s3">.</span><span class="s1">driver</span><span class="s3">, </span><span class="s1">duration</span><span class="s3">=</span><span class="s1">self</span><span class="s3">.</span><span class="s1">ctx</span><span class="s3">.</span><span class="s1">action_chain_delay</span><span class="s3">).</span><span class="s1">move_to_element</span><span class="s3">(</span><span class="s1">element</span><span class="s3">).</span><span class="s1">perform</span><span class="s3">()</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">drag_and_drop</span><span class="s3">(</span>
        <span class="s1">self</span><span class="s3">, </span><span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">], </span><span class="s1">target</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">]</span>
    <span class="s3">):</span>
        <span class="s5">&quot;&quot;&quot;Drags the element identified by ``locator`` into the ``target`` element. 
 
        The ``locator`` argument is the locator of the dragged element 
        and the ``target`` is the locator of the target. See the 
        `Locating elements` section for details about the locator syntax. 
 
        Example: 
        | `Drag And Drop` | css:div#element | css:div.target | 
        &quot;&quot;&quot;</span>
        <span class="s1">element </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">find_element</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">)</span>
        <span class="s1">target </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">find_element</span><span class="s3">(</span><span class="s1">target</span><span class="s3">)</span>
        <span class="s1">action </span><span class="s3">= </span><span class="s1">ActionChains</span><span class="s3">(</span><span class="s1">self</span><span class="s3">.</span><span class="s1">driver</span><span class="s3">, </span><span class="s1">duration</span><span class="s3">=</span><span class="s1">self</span><span class="s3">.</span><span class="s1">ctx</span><span class="s3">.</span><span class="s1">action_chain_delay</span><span class="s3">)</span>
        <span class="s1">action</span><span class="s3">.</span><span class="s1">drag_and_drop</span><span class="s3">(</span><span class="s1">element</span><span class="s3">, </span><span class="s1">target</span><span class="s3">).</span><span class="s1">perform</span><span class="s3">()</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">drag_and_drop_by_offset</span><span class="s3">(</span>
        <span class="s1">self</span><span class="s3">, </span><span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">], </span><span class="s1">xoffset</span><span class="s3">: </span><span class="s1">int</span><span class="s3">, </span><span class="s1">yoffset</span><span class="s3">: </span><span class="s1">int</span>
    <span class="s3">):</span>
        <span class="s5">&quot;&quot;&quot;Drags the element identified with ``locator`` by ``xoffset/yoffset``. 
 
        See the `Locating elements` section for details about the locator 
        syntax. 
 
        The element will be moved by ``xoffset`` and ``yoffset``, each of which 
        is a negative or positive number specifying the offset. 
 
        Example: 
        | `Drag And Drop By Offset` | myElem | 50 | -35 | # Move myElem 50px right and 35px down | 
        &quot;&quot;&quot;</span>
        <span class="s1">element </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">find_element</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">)</span>
        <span class="s1">action </span><span class="s3">= </span><span class="s1">ActionChains</span><span class="s3">(</span><span class="s1">self</span><span class="s3">.</span><span class="s1">driver</span><span class="s3">, </span><span class="s1">duration</span><span class="s3">=</span><span class="s1">self</span><span class="s3">.</span><span class="s1">ctx</span><span class="s3">.</span><span class="s1">action_chain_delay</span><span class="s3">)</span>
        <span class="s1">action</span><span class="s3">.</span><span class="s1">drag_and_drop_by_offset</span><span class="s3">(</span><span class="s1">element</span><span class="s3">, </span><span class="s1">xoffset</span><span class="s3">, </span><span class="s1">yoffset</span><span class="s3">)</span>
        <span class="s1">action</span><span class="s3">.</span><span class="s1">perform</span><span class="s3">()</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">mouse_down</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">]):</span>
        <span class="s5">&quot;&quot;&quot;Simulates pressing the left mouse button on the element ``locator``. 
 
        See the `Locating elements` section for details about the locator 
        syntax. 
 
        The element is pressed without releasing the mouse button. 
 
        See also the more specific keywords `Mouse Down On Image` and 
        `Mouse Down On Link`. 
        &quot;&quot;&quot;</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">info</span><span class="s3">(</span><span class="s4">f&quot;Simulating Mouse Down on element '</span><span class="s2">{</span><span class="s1">locator</span><span class="s2">}</span><span class="s4">'.&quot;</span><span class="s3">)</span>
        <span class="s1">element </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">find_element</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">)</span>
        <span class="s1">action </span><span class="s3">= </span><span class="s1">ActionChains</span><span class="s3">(</span><span class="s1">self</span><span class="s3">.</span><span class="s1">driver</span><span class="s3">, </span><span class="s1">duration</span><span class="s3">=</span><span class="s1">self</span><span class="s3">.</span><span class="s1">ctx</span><span class="s3">.</span><span class="s1">action_chain_delay</span><span class="s3">)</span>
        <span class="s1">action</span><span class="s3">.</span><span class="s1">click_and_hold</span><span class="s3">(</span><span class="s1">element</span><span class="s3">).</span><span class="s1">perform</span><span class="s3">()</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">mouse_out</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">]):</span>
        <span class="s5">&quot;&quot;&quot;Simulates moving the mouse away from the element ``locator``. 
 
        See the `Locating elements` section for details about the locator 
        syntax. 
        &quot;&quot;&quot;</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">info</span><span class="s3">(</span><span class="s4">f&quot;Simulating Mouse Out on element '</span><span class="s2">{</span><span class="s1">locator</span><span class="s2">}</span><span class="s4">'.&quot;</span><span class="s3">)</span>
        <span class="s1">element </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">find_element</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">)</span>
        <span class="s1">size </span><span class="s3">= </span><span class="s1">element</span><span class="s3">.</span><span class="s1">size</span>
        <span class="s1">offsetx </span><span class="s3">= (</span><span class="s1">size</span><span class="s3">[</span><span class="s4">&quot;width&quot;</span><span class="s3">] / </span><span class="s6">2</span><span class="s3">) + </span><span class="s6">1</span>
        <span class="s1">offsety </span><span class="s3">= (</span><span class="s1">size</span><span class="s3">[</span><span class="s4">&quot;height&quot;</span><span class="s3">] / </span><span class="s6">2</span><span class="s3">) + </span><span class="s6">1</span>
        <span class="s1">action </span><span class="s3">= </span><span class="s1">ActionChains</span><span class="s3">(</span><span class="s1">self</span><span class="s3">.</span><span class="s1">driver</span><span class="s3">, </span><span class="s1">duration</span><span class="s3">=</span><span class="s1">self</span><span class="s3">.</span><span class="s1">ctx</span><span class="s3">.</span><span class="s1">action_chain_delay</span><span class="s3">)</span>
        <span class="s1">action</span><span class="s3">.</span><span class="s1">move_to_element</span><span class="s3">(</span><span class="s1">element</span><span class="s3">)</span>
        <span class="s1">action</span><span class="s3">.</span><span class="s1">move_by_offset</span><span class="s3">(</span><span class="s1">offsetx</span><span class="s3">, </span><span class="s1">offsety</span><span class="s3">)</span>
        <span class="s1">action</span><span class="s3">.</span><span class="s1">perform</span><span class="s3">()</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">mouse_over</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">]):</span>
        <span class="s5">&quot;&quot;&quot;Simulates hovering the mouse over the element ``locator``. 
 
        See the `Locating elements` section for details about the locator 
        syntax. 
        &quot;&quot;&quot;</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">info</span><span class="s3">(</span><span class="s4">f&quot;Simulating Mouse Over on element '</span><span class="s2">{</span><span class="s1">locator</span><span class="s2">}</span><span class="s4">'.&quot;</span><span class="s3">)</span>
        <span class="s1">element </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">find_element</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">)</span>
        <span class="s1">action </span><span class="s3">= </span><span class="s1">ActionChains</span><span class="s3">(</span><span class="s1">self</span><span class="s3">.</span><span class="s1">driver</span><span class="s3">, </span><span class="s1">duration</span><span class="s3">=</span><span class="s1">self</span><span class="s3">.</span><span class="s1">ctx</span><span class="s3">.</span><span class="s1">action_chain_delay</span><span class="s3">)</span>
        <span class="s1">action</span><span class="s3">.</span><span class="s1">move_to_element</span><span class="s3">(</span><span class="s1">element</span><span class="s3">).</span><span class="s1">perform</span><span class="s3">()</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">mouse_up</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">]):</span>
        <span class="s5">&quot;&quot;&quot;Simulates releasing the left mouse button on the element ``locator``. 
 
        See the `Locating elements` section for details about the locator 
        syntax. 
        &quot;&quot;&quot;</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">info</span><span class="s3">(</span><span class="s4">f&quot;Simulating Mouse Up on element '</span><span class="s2">{</span><span class="s1">locator</span><span class="s2">}</span><span class="s4">'.&quot;</span><span class="s3">)</span>
        <span class="s1">element </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">find_element</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">)</span>
        <span class="s1">ActionChains</span><span class="s3">(</span><span class="s1">self</span><span class="s3">.</span><span class="s1">driver</span><span class="s3">, </span><span class="s1">duration</span><span class="s3">=</span><span class="s1">self</span><span class="s3">.</span><span class="s1">ctx</span><span class="s3">.</span><span class="s1">action_chain_delay</span><span class="s3">).</span><span class="s1">release</span><span class="s3">(</span><span class="s1">element</span><span class="s3">).</span><span class="s1">perform</span><span class="s3">()</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">open_context_menu</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">]):</span>
        <span class="s5">&quot;&quot;&quot;Opens the context menu on the element identified by ``locator``.&quot;&quot;&quot;</span>
        <span class="s1">element </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">find_element</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">)</span>
        <span class="s1">action </span><span class="s3">= </span><span class="s1">ActionChains</span><span class="s3">(</span><span class="s1">self</span><span class="s3">.</span><span class="s1">driver</span><span class="s3">, </span><span class="s1">duration</span><span class="s3">=</span><span class="s1">self</span><span class="s3">.</span><span class="s1">ctx</span><span class="s3">.</span><span class="s1">action_chain_delay</span><span class="s3">)</span>
        <span class="s1">action</span><span class="s3">.</span><span class="s1">context_click</span><span class="s3">(</span><span class="s1">element</span><span class="s3">).</span><span class="s1">perform</span><span class="s3">()</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">simulate_event</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">], </span><span class="s1">event</span><span class="s3">: </span><span class="s1">str</span><span class="s3">):</span>
        <span class="s5">&quot;&quot;&quot;Simulates ``event`` on the element identified by ``locator``. 
 
        This keyword is useful if element has ``OnEvent`` handler that 
        needs to be explicitly invoked. 
 
        See the `Locating elements` section for details about the locator 
        syntax. 
 
        Prior to SeleniumLibrary 3.0 this keyword was named `Simulate`. 
        &quot;&quot;&quot;</span>
        <span class="s1">element </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">find_element</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">)</span>
        <span class="s1">script </span><span class="s3">= </span><span class="s4">&quot;&quot;&quot; 
element = arguments[0]; 
eventName = arguments[1]; 
if (document.createEventObject) { // IE 
    return element.fireEvent('on' + eventName, document.createEventObject()); 
} 
var evt = document.createEvent(&quot;HTMLEvents&quot;); 
evt.initEvent(eventName, true, true); 
return !element.dispatchEvent(evt); 
        &quot;&quot;&quot;</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">driver</span><span class="s3">.</span><span class="s1">execute_script</span><span class="s3">(</span><span class="s1">script</span><span class="s3">, </span><span class="s1">element</span><span class="s3">, </span><span class="s1">event</span><span class="s3">)</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">press_key</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">], </span><span class="s1">key</span><span class="s3">: </span><span class="s1">str</span><span class="s3">):</span>
        <span class="s5">&quot;&quot;&quot;Simulates user pressing key on element identified by ``locator``. 
 
        See the `Locating elements` section for details about the locator 
        syntax. 
 
        ``key`` is either a single character, a string, or a numerical ASCII 
        code of the key lead by '\\'. 
 
        Examples: 
        | `Press Key` | text_field   | q     | 
        | `Press Key` | text_field   | abcde | 
        | `Press Key` | login_button | \\13  | # ASCII code for enter key | 
 
        `Press Key` and `Press Keys` differ in the methods to simulate key 
        presses. `Press Key` uses the WebDriver `SEND_KEYS_TO_ELEMENT` command 
        using the selenium send_keys method. Although one is not recommended 
        over the other if `Press Key` does not work we recommend trying 
        `Press Keys`. 
        &quot;&quot;&quot;</span>
        <span class="s2">if </span><span class="s1">key</span><span class="s3">.</span><span class="s1">startswith</span><span class="s3">(</span><span class="s4">&quot;</span><span class="s2">\\</span><span class="s4">&quot;</span><span class="s3">) </span><span class="s2">and </span><span class="s1">len</span><span class="s3">(</span><span class="s1">key</span><span class="s3">) &gt; </span><span class="s6">1</span><span class="s3">:</span>
            <span class="s1">key </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">_map_ascii_key_code_to_key</span><span class="s3">(</span><span class="s1">int</span><span class="s3">(</span><span class="s1">key</span><span class="s3">[</span><span class="s6">1</span><span class="s3">:]))</span>
        <span class="s1">element </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">find_element</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">)</span>
        <span class="s1">element</span><span class="s3">.</span><span class="s1">send_keys</span><span class="s3">(</span><span class="s1">key</span><span class="s3">)</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">press_keys</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s2">None</span><span class="s3">, </span><span class="s1">str</span><span class="s3">] = </span><span class="s2">None</span><span class="s3">, *</span><span class="s1">keys</span><span class="s3">: </span><span class="s1">str</span><span class="s3">):</span>
        <span class="s5">&quot;&quot;&quot;Simulates the user pressing key(s) to an element or on the active browser. 
 
        If ``locator`` evaluates as false, see `Boolean arguments` for more 
        details, then the ``keys`` are sent to the currently active browser. 
        Otherwise element is searched and ``keys`` are send to the element 
        identified by the ``locator``. In later case, keyword fails if element 
        is not found. See the `Locating elements` section for details about 
        the locator syntax. 
 
        ``keys`` arguments can contain one or many strings, but it can not 
        be empty. ``keys`` can also be a combination of 
        [https://seleniumhq.github.io/selenium/docs/api/py/webdriver/selenium.webdriver.common.keys.html|Selenium Keys] 
        and strings or a single Selenium Key. If Selenium Key is combined 
        with strings, Selenium key and strings must be separated by the 
        `+` character, like in `CONTROL+c`. Selenium Keys 
        are space and case sensitive and Selenium Keys are not parsed 
        inside of the string. Example AALTO, would send string `AALTO` 
        and `ALT` not parsed inside of the string. But `A+ALT+O` would 
        found Selenium ALT key from the ``keys`` argument. It also possible 
        to press many Selenium Keys down at the same time, example 
        'ALT+ARROW_DOWN`. 
 
        If Selenium Keys are detected in the ``keys`` argument, keyword 
        will press the Selenium Key down, send the strings and 
         then release the Selenium Key. If keyword needs to send a Selenium 
        Key as a string, then each character must be separated with 
        `+` character, example `E+N+D`. 
 
        `CTRL` is alias for 
        [https://seleniumhq.github.io/selenium/docs/api/py/webdriver/selenium.webdriver.common.keys.html#selenium.webdriver.common.keys.Keys.CONTROL|Selenium CONTROL] 
        and ESC is alias for 
        [https://seleniumhq.github.io/selenium/docs/api/py/webdriver/selenium.webdriver.common.keys.html#selenium.webdriver.common.keys.Keys.ESCAPE|Selenium ESCAPE] 
 
        New in SeleniumLibrary 3.3 
 
        Examples: 
        | `Press Keys` | text_field | AAAAA          |            | # Sends string &quot;AAAAA&quot; to element.                                                | 
        | `Press Keys` | None       | BBBBB          |            | # Sends string &quot;BBBBB&quot; to currently active browser.                               | 
        | `Press Keys` | text_field | E+N+D          |            | # Sends string &quot;END&quot; to element.                                                  | 
        | `Press Keys` | text_field | XXX            | YY         | # Sends strings &quot;XXX&quot; and &quot;YY&quot; to element.                                        | 
        | `Press Keys` | text_field | XXX+YY         |            | # Same as above.                                                                  | 
        | `Press Keys` | text_field | ALT+ARROW_DOWN |            | # Pressing &quot;ALT&quot; key down, then pressing ARROW_DOWN and then releasing both keys. | 
        | `Press Keys` | text_field | ALT            | ARROW_DOWN | # Pressing &quot;ALT&quot; key and then pressing ARROW_DOWN.                                | 
        | `Press Keys` | text_field | CTRL+c         |            | # Pressing CTRL key down, sends string &quot;c&quot; and then releases CTRL key.            | 
        | `Press Keys` | button     | RETURN         |            | # Pressing &quot;ENTER&quot; key to element.                                                | 
 
        `Press Key` and `Press Keys` differ in the methods to simulate key 
        presses. `Press Keys` uses the Selenium/WebDriver Actions. 
        `Press Keys` also has a more extensive syntax for describing keys, 
        key combinations, and key actions. Although one is not recommended 
        over the other if `Press Keys` does not work we recommend trying 
        `Press Key`. 
        &quot;&quot;&quot;</span>
        <span class="s1">parsed_keys </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">_parse_keys</span><span class="s3">(*</span><span class="s1">keys</span><span class="s3">)</span>
        <span class="s2">if not </span><span class="s1">is_noney</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">):</span>
            <span class="s1">self</span><span class="s3">.</span><span class="s1">info</span><span class="s3">(</span><span class="s4">f&quot;Sending key(s) </span><span class="s2">{</span><span class="s1">keys</span><span class="s2">} </span><span class="s4">to </span><span class="s2">{</span><span class="s1">locator</span><span class="s2">} </span><span class="s4">element.&quot;</span><span class="s3">)</span>
            <span class="s1">element </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">find_element</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">)</span>
            <span class="s1">ActionChains</span><span class="s3">(</span><span class="s1">self</span><span class="s3">.</span><span class="s1">driver</span><span class="s3">, </span><span class="s1">duration</span><span class="s3">=</span><span class="s1">self</span><span class="s3">.</span><span class="s1">ctx</span><span class="s3">.</span><span class="s1">action_chain_delay</span><span class="s3">).</span><span class="s1">click</span><span class="s3">(</span><span class="s1">element</span><span class="s3">).</span><span class="s1">perform</span><span class="s3">()</span>
        <span class="s2">else</span><span class="s3">:</span>
            <span class="s1">self</span><span class="s3">.</span><span class="s1">info</span><span class="s3">(</span><span class="s4">f&quot;Sending key(s) </span><span class="s2">{</span><span class="s1">keys</span><span class="s2">} </span><span class="s4">to page.&quot;</span><span class="s3">)</span>
            <span class="s1">element </span><span class="s3">= </span><span class="s2">None</span>
        <span class="s2">for </span><span class="s1">parsed_key </span><span class="s2">in </span><span class="s1">parsed_keys</span><span class="s3">:</span>
            <span class="s1">actions </span><span class="s3">= </span><span class="s1">ActionChains</span><span class="s3">(</span><span class="s1">self</span><span class="s3">.</span><span class="s1">driver</span><span class="s3">, </span><span class="s1">duration</span><span class="s3">=</span><span class="s1">self</span><span class="s3">.</span><span class="s1">ctx</span><span class="s3">.</span><span class="s1">action_chain_delay</span><span class="s3">)</span>
            <span class="s2">for </span><span class="s1">key </span><span class="s2">in </span><span class="s1">parsed_key</span><span class="s3">:</span>
                <span class="s2">if </span><span class="s1">key</span><span class="s3">.</span><span class="s1">special</span><span class="s3">:</span>
                    <span class="s1">self</span><span class="s3">.</span><span class="s1">_press_keys_special_keys</span><span class="s3">(</span><span class="s1">actions</span><span class="s3">, </span><span class="s1">element</span><span class="s3">, </span><span class="s1">parsed_key</span><span class="s3">, </span><span class="s1">key</span><span class="s3">)</span>
                <span class="s2">else</span><span class="s3">:</span>
                    <span class="s1">self</span><span class="s3">.</span><span class="s1">_press_keys_normal_keys</span><span class="s3">(</span><span class="s1">actions</span><span class="s3">, </span><span class="s1">key</span><span class="s3">)</span>
            <span class="s1">self</span><span class="s3">.</span><span class="s1">_special_key_up</span><span class="s3">(</span><span class="s1">actions</span><span class="s3">, </span><span class="s1">parsed_key</span><span class="s3">)</span>
            <span class="s1">actions</span><span class="s3">.</span><span class="s1">perform</span><span class="s3">()</span>

    <span class="s2">def </span><span class="s1">_press_keys_normal_keys</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">actions</span><span class="s3">, </span><span class="s1">key</span><span class="s3">):</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">info</span><span class="s3">(</span><span class="s4">f&quot;Sending key</span><span class="s2">{</span><span class="s1">plural_or_not</span><span class="s3">(</span><span class="s1">key</span><span class="s3">.</span><span class="s1">converted</span><span class="s3">)</span><span class="s2">} {</span><span class="s1">key</span><span class="s3">.</span><span class="s1">converted</span><span class="s2">}</span><span class="s4">&quot;</span><span class="s3">)</span>
        <span class="s1">actions</span><span class="s3">.</span><span class="s1">send_keys</span><span class="s3">(</span><span class="s1">key</span><span class="s3">.</span><span class="s1">converted</span><span class="s3">)</span>

    <span class="s2">def </span><span class="s1">_press_keys_special_keys</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">actions</span><span class="s3">, </span><span class="s1">element</span><span class="s3">, </span><span class="s1">parsed_key</span><span class="s3">, </span><span class="s1">key</span><span class="s3">):</span>
        <span class="s2">if </span><span class="s1">len</span><span class="s3">(</span><span class="s1">parsed_key</span><span class="s3">) == </span><span class="s6">1 </span><span class="s2">and </span><span class="s1">element</span><span class="s3">:</span>
            <span class="s1">self</span><span class="s3">.</span><span class="s1">info</span><span class="s3">(</span><span class="s4">f&quot;Pressing special key </span><span class="s2">{</span><span class="s1">key</span><span class="s3">.</span><span class="s1">original</span><span class="s2">} </span><span class="s4">to element.&quot;</span><span class="s3">)</span>
            <span class="s1">actions</span><span class="s3">.</span><span class="s1">send_keys</span><span class="s3">(</span><span class="s1">key</span><span class="s3">.</span><span class="s1">converted</span><span class="s3">)</span>
        <span class="s2">elif </span><span class="s1">len</span><span class="s3">(</span><span class="s1">parsed_key</span><span class="s3">) == </span><span class="s6">1 </span><span class="s2">and not </span><span class="s1">element</span><span class="s3">:</span>
            <span class="s1">self</span><span class="s3">.</span><span class="s1">info</span><span class="s3">(</span><span class="s4">f&quot;Pressing special key </span><span class="s2">{</span><span class="s1">key</span><span class="s3">.</span><span class="s1">original</span><span class="s2">} </span><span class="s4">to browser.&quot;</span><span class="s3">)</span>
            <span class="s1">actions</span><span class="s3">.</span><span class="s1">send_keys</span><span class="s3">(</span><span class="s1">key</span><span class="s3">.</span><span class="s1">converted</span><span class="s3">)</span>
        <span class="s2">else</span><span class="s3">:</span>
            <span class="s1">self</span><span class="s3">.</span><span class="s1">info</span><span class="s3">(</span><span class="s4">f&quot;Pressing special key </span><span class="s2">{</span><span class="s1">key</span><span class="s3">.</span><span class="s1">original</span><span class="s2">} </span><span class="s4">down.&quot;</span><span class="s3">)</span>
            <span class="s1">actions</span><span class="s3">.</span><span class="s1">key_down</span><span class="s3">(</span><span class="s1">key</span><span class="s3">.</span><span class="s1">converted</span><span class="s3">)</span>

    <span class="s2">def </span><span class="s1">_special_key_up</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">actions</span><span class="s3">, </span><span class="s1">parsed_key</span><span class="s3">):</span>
        <span class="s2">for </span><span class="s1">key </span><span class="s2">in </span><span class="s1">parsed_key</span><span class="s3">:</span>
            <span class="s2">if </span><span class="s1">key</span><span class="s3">.</span><span class="s1">special</span><span class="s3">:</span>
                <span class="s1">self</span><span class="s3">.</span><span class="s1">info</span><span class="s3">(</span><span class="s4">f&quot;Releasing special key </span><span class="s2">{</span><span class="s1">key</span><span class="s3">.</span><span class="s1">original</span><span class="s2">}</span><span class="s4">.&quot;</span><span class="s3">)</span>
                <span class="s1">actions</span><span class="s3">.</span><span class="s1">key_up</span><span class="s3">(</span><span class="s1">key</span><span class="s3">.</span><span class="s1">converted</span><span class="s3">)</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">get_all_links</span><span class="s3">(</span><span class="s1">self</span><span class="s3">) </span><span class="s1">-&gt; List</span><span class="s3">[</span><span class="s1">str</span><span class="s3">]:</span>
        <span class="s5">&quot;&quot;&quot;Returns a list containing ids of all links found in current page. 
 
        If a link has no id, an empty string will be in the list instead. 
        &quot;&quot;&quot;</span>
        <span class="s1">links </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">find_elements</span><span class="s3">(</span><span class="s4">&quot;tag=a&quot;</span><span class="s3">)</span>
        <span class="s2">return </span><span class="s3">[</span><span class="s1">link</span><span class="s3">.</span><span class="s1">get_attribute</span><span class="s3">(</span><span class="s4">&quot;id&quot;</span><span class="s3">) </span><span class="s2">for </span><span class="s1">link </span><span class="s2">in </span><span class="s1">links</span><span class="s3">]</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">mouse_down_on_link</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">]):</span>
        <span class="s5">&quot;&quot;&quot;Simulates a mouse down event on a link identified by ``locator``. 
 
        See the `Locating elements` section for details about the locator 
        syntax. When using the default locator strategy, links are searched 
        using ``id``, ``name``, ``href`` and the link text. 
        &quot;&quot;&quot;</span>
        <span class="s1">element </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">find_element</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">, </span><span class="s1">tag</span><span class="s3">=</span><span class="s4">&quot;link&quot;</span><span class="s3">)</span>
        <span class="s1">action </span><span class="s3">= </span><span class="s1">ActionChains</span><span class="s3">(</span><span class="s1">self</span><span class="s3">.</span><span class="s1">driver</span><span class="s3">, </span><span class="s1">duration</span><span class="s3">=</span><span class="s1">self</span><span class="s3">.</span><span class="s1">ctx</span><span class="s3">.</span><span class="s1">action_chain_delay</span><span class="s3">)</span>
        <span class="s1">action</span><span class="s3">.</span><span class="s1">click_and_hold</span><span class="s3">(</span><span class="s1">element</span><span class="s3">).</span><span class="s1">perform</span><span class="s3">()</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">page_should_contain_link</span><span class="s3">(</span>
        <span class="s1">self</span><span class="s3">,</span>
        <span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">],</span>
        <span class="s1">message</span><span class="s3">: </span><span class="s1">Optional</span><span class="s3">[</span><span class="s1">str</span><span class="s3">] = </span><span class="s2">None</span><span class="s3">,</span>
        <span class="s1">loglevel</span><span class="s3">: </span><span class="s1">str </span><span class="s3">= </span><span class="s4">&quot;TRACE&quot;</span><span class="s3">,</span>
    <span class="s3">):</span>
        <span class="s5">&quot;&quot;&quot;Verifies link identified by ``locator`` is found from current page. 
 
        See the `Locating elements` section for details about the locator 
        syntax. When using the default locator strategy, links are searched 
        using ``id``, ``name``, ``href`` and the link text. 
 
        See `Page Should Contain Element` for an explanation about ``message`` 
        and ``loglevel`` arguments. 
        &quot;&quot;&quot;</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">assert_page_contains</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">, </span><span class="s4">&quot;link&quot;</span><span class="s3">, </span><span class="s1">message</span><span class="s3">, </span><span class="s1">loglevel</span><span class="s3">)</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">page_should_not_contain_link</span><span class="s3">(</span>
        <span class="s1">self</span><span class="s3">,</span>
        <span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">],</span>
        <span class="s1">message</span><span class="s3">: </span><span class="s1">Optional</span><span class="s3">[</span><span class="s1">str</span><span class="s3">] = </span><span class="s2">None</span><span class="s3">,</span>
        <span class="s1">loglevel</span><span class="s3">: </span><span class="s1">str </span><span class="s3">= </span><span class="s4">&quot;TRACE&quot;</span><span class="s3">,</span>
    <span class="s3">):</span>
        <span class="s5">&quot;&quot;&quot;Verifies link identified by ``locator`` is not found from current page. 
 
        See the `Locating elements` section for details about the locator 
        syntax. When using the default locator strategy, links are searched 
        using ``id``, ``name``, ``href`` and the link text. 
 
        See `Page Should Contain Element` for an explanation about ``message`` 
        and ``loglevel`` arguments. 
        &quot;&quot;&quot;</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">assert_page_not_contains</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">, </span><span class="s4">&quot;link&quot;</span><span class="s3">, </span><span class="s1">message</span><span class="s3">, </span><span class="s1">loglevel</span><span class="s3">)</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">mouse_down_on_image</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">]):</span>
        <span class="s5">&quot;&quot;&quot;Simulates a mouse down event on an image identified by ``locator``. 
 
        See the `Locating elements` section for details about the locator 
        syntax. When using the default locator strategy, images are searched 
        using ``id``, ``name``, ``src`` and ``alt``. 
        &quot;&quot;&quot;</span>
        <span class="s1">element </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">find_element</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">, </span><span class="s1">tag</span><span class="s3">=</span><span class="s4">&quot;image&quot;</span><span class="s3">)</span>
        <span class="s1">action </span><span class="s3">= </span><span class="s1">ActionChains</span><span class="s3">(</span><span class="s1">self</span><span class="s3">.</span><span class="s1">driver</span><span class="s3">, </span><span class="s1">duration</span><span class="s3">=</span><span class="s1">self</span><span class="s3">.</span><span class="s1">ctx</span><span class="s3">.</span><span class="s1">action_chain_delay</span><span class="s3">)</span>
        <span class="s1">action</span><span class="s3">.</span><span class="s1">click_and_hold</span><span class="s3">(</span><span class="s1">element</span><span class="s3">).</span><span class="s1">perform</span><span class="s3">()</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">page_should_contain_image</span><span class="s3">(</span>
        <span class="s1">self</span><span class="s3">,</span>
        <span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">],</span>
        <span class="s1">message</span><span class="s3">: </span><span class="s1">Optional</span><span class="s3">[</span><span class="s1">str</span><span class="s3">] = </span><span class="s2">None</span><span class="s3">,</span>
        <span class="s1">loglevel</span><span class="s3">: </span><span class="s1">str </span><span class="s3">= </span><span class="s4">&quot;TRACE&quot;</span><span class="s3">,</span>
    <span class="s3">):</span>
        <span class="s5">&quot;&quot;&quot;Verifies image identified by ``locator`` is found from current page. 
 
        See the `Locating elements` section for details about the locator 
        syntax. When using the default locator strategy, images are searched 
        using ``id``, ``name``, ``src`` and ``alt``. 
 
        See `Page Should Contain Element` for an explanation about ``message`` 
        and ``loglevel`` arguments. 
        &quot;&quot;&quot;</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">assert_page_contains</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">, </span><span class="s4">&quot;image&quot;</span><span class="s3">, </span><span class="s1">message</span><span class="s3">, </span><span class="s1">loglevel</span><span class="s3">)</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">page_should_not_contain_image</span><span class="s3">(</span>
        <span class="s1">self</span><span class="s3">,</span>
        <span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">],</span>
        <span class="s1">message</span><span class="s3">: </span><span class="s1">Optional</span><span class="s3">[</span><span class="s1">str</span><span class="s3">] = </span><span class="s2">None</span><span class="s3">,</span>
        <span class="s1">loglevel</span><span class="s3">: </span><span class="s1">str </span><span class="s3">= </span><span class="s4">&quot;TRACE&quot;</span><span class="s3">,</span>
    <span class="s3">):</span>
        <span class="s5">&quot;&quot;&quot;Verifies image identified by ``locator`` is not found from current page. 
 
        See the `Locating elements` section for details about the locator 
        syntax. When using the default locator strategy, images are searched 
        using ``id``, ``name``, ``src`` and ``alt``. 
 
        See `Page Should Contain Element` for an explanation about ``message`` 
        and ``loglevel`` arguments. 
        &quot;&quot;&quot;</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">assert_page_not_contains</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">, </span><span class="s4">&quot;image&quot;</span><span class="s3">, </span><span class="s1">message</span><span class="s3">, </span><span class="s1">loglevel</span><span class="s3">)</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">get_element_count</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">]) </span><span class="s1">-&gt; int</span><span class="s3">:</span>
        <span class="s5">&quot;&quot;&quot;Returns the number of elements matching ``locator``. 
 
        If you wish to assert the number of matching elements, use 
        `Page Should Contain Element` with ``limit`` argument. Keyword will 
        always return an integer. 
 
        Example: 
        | ${count} =       | `Get Element Count` | name:div_name  | 
        | `Should Be True` | ${count} &gt; 2        |                | 
 
        New in SeleniumLibrary 3.0. 
        &quot;&quot;&quot;</span>
        <span class="s2">return </span><span class="s1">len</span><span class="s3">(</span><span class="s1">self</span><span class="s3">.</span><span class="s1">find_elements</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">))</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">add_location_strategy</span><span class="s3">(</span>
        <span class="s1">self</span><span class="s3">, </span><span class="s1">strategy_name</span><span class="s3">: </span><span class="s1">str</span><span class="s3">, </span><span class="s1">strategy_keyword</span><span class="s3">: </span><span class="s1">str</span><span class="s3">, </span><span class="s1">persist</span><span class="s3">: </span><span class="s1">bool </span><span class="s3">= </span><span class="s2">False</span>
    <span class="s3">):</span>
        <span class="s5">&quot;&quot;&quot;Adds a custom location strategy. 
 
        See `Custom locators` for information on how to create and use 
        custom strategies. `Remove Location Strategy` can be used to 
        remove a registered strategy. 
 
        Location strategies are automatically removed after leaving the 
        current scope by default. Setting ``persist`` to a true value (see 
        `Boolean arguments`) will cause the location strategy to stay 
        registered throughout the life of the test. 
        &quot;&quot;&quot;</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">element_finder</span><span class="s3">.</span><span class="s1">register</span><span class="s3">(</span><span class="s1">strategy_name</span><span class="s3">, </span><span class="s1">strategy_keyword</span><span class="s3">, </span><span class="s1">persist</span><span class="s3">)</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">remove_location_strategy</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">strategy_name</span><span class="s3">: </span><span class="s1">str</span><span class="s3">):</span>
        <span class="s5">&quot;&quot;&quot;Removes a previously added custom location strategy. 
 
        See `Custom locators` for information on how to create and use 
        custom strategies. 
        &quot;&quot;&quot;</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">element_finder</span><span class="s3">.</span><span class="s1">unregister</span><span class="s3">(</span><span class="s1">strategy_name</span><span class="s3">)</span>

    <span class="s2">def </span><span class="s1">_map_ascii_key_code_to_key</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">key_code</span><span class="s3">):</span>
        <span class="s1">map </span><span class="s3">= {</span>
            <span class="s6">0</span><span class="s3">: </span><span class="s1">Keys</span><span class="s3">.</span><span class="s1">NULL</span><span class="s3">,</span>
            <span class="s6">8</span><span class="s3">: </span><span class="s1">Keys</span><span class="s3">.</span><span class="s1">BACK_SPACE</span><span class="s3">,</span>
            <span class="s6">9</span><span class="s3">: </span><span class="s1">Keys</span><span class="s3">.</span><span class="s1">TAB</span><span class="s3">,</span>
            <span class="s6">10</span><span class="s3">: </span><span class="s1">Keys</span><span class="s3">.</span><span class="s1">RETURN</span><span class="s3">,</span>
            <span class="s6">13</span><span class="s3">: </span><span class="s1">Keys</span><span class="s3">.</span><span class="s1">ENTER</span><span class="s3">,</span>
            <span class="s6">24</span><span class="s3">: </span><span class="s1">Keys</span><span class="s3">.</span><span class="s1">CANCEL</span><span class="s3">,</span>
            <span class="s6">27</span><span class="s3">: </span><span class="s1">Keys</span><span class="s3">.</span><span class="s1">ESCAPE</span><span class="s3">,</span>
            <span class="s6">32</span><span class="s3">: </span><span class="s1">Keys</span><span class="s3">.</span><span class="s1">SPACE</span><span class="s3">,</span>
            <span class="s6">42</span><span class="s3">: </span><span class="s1">Keys</span><span class="s3">.</span><span class="s1">MULTIPLY</span><span class="s3">,</span>
            <span class="s6">43</span><span class="s3">: </span><span class="s1">Keys</span><span class="s3">.</span><span class="s1">ADD</span><span class="s3">,</span>
            <span class="s6">44</span><span class="s3">: </span><span class="s1">Keys</span><span class="s3">.</span><span class="s1">SEPARATOR</span><span class="s3">,</span>
            <span class="s6">45</span><span class="s3">: </span><span class="s1">Keys</span><span class="s3">.</span><span class="s1">SUBTRACT</span><span class="s3">,</span>
            <span class="s6">56</span><span class="s3">: </span><span class="s1">Keys</span><span class="s3">.</span><span class="s1">DECIMAL</span><span class="s3">,</span>
            <span class="s6">57</span><span class="s3">: </span><span class="s1">Keys</span><span class="s3">.</span><span class="s1">DIVIDE</span><span class="s3">,</span>
            <span class="s6">59</span><span class="s3">: </span><span class="s1">Keys</span><span class="s3">.</span><span class="s1">SEMICOLON</span><span class="s3">,</span>
            <span class="s6">61</span><span class="s3">: </span><span class="s1">Keys</span><span class="s3">.</span><span class="s1">EQUALS</span><span class="s3">,</span>
            <span class="s6">127</span><span class="s3">: </span><span class="s1">Keys</span><span class="s3">.</span><span class="s1">DELETE</span><span class="s3">,</span>
        <span class="s3">}</span>
        <span class="s1">key </span><span class="s3">= </span><span class="s1">map</span><span class="s3">.</span><span class="s1">get</span><span class="s3">(</span><span class="s1">key_code</span><span class="s3">)</span>
        <span class="s2">if </span><span class="s1">key </span><span class="s2">is None</span><span class="s3">:</span>
            <span class="s1">key </span><span class="s3">= </span><span class="s1">chr</span><span class="s3">(</span><span class="s1">key_code</span><span class="s3">)</span>
        <span class="s2">return </span><span class="s1">key</span>

    <span class="s2">def </span><span class="s1">_map_named_key_code_to_special_key</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">key_name</span><span class="s3">):</span>
        <span class="s2">try</span><span class="s3">:</span>
            <span class="s2">return </span><span class="s1">getattr</span><span class="s3">(</span><span class="s1">Keys</span><span class="s3">, </span><span class="s1">key_name</span><span class="s3">)</span>
        <span class="s2">except </span><span class="s1">AttributeError</span><span class="s3">:</span>
            <span class="s1">message </span><span class="s3">= </span><span class="s4">f&quot;Unknown key named '</span><span class="s2">{</span><span class="s1">key_name</span><span class="s2">}</span><span class="s4">'.&quot;</span>
            <span class="s1">self</span><span class="s3">.</span><span class="s1">debug</span><span class="s3">(</span><span class="s1">message</span><span class="s3">)</span>
            <span class="s2">raise </span><span class="s1">ValueError</span><span class="s3">(</span><span class="s1">message</span><span class="s3">)</span>

    <span class="s2">def </span><span class="s1">_page_contains</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">text</span><span class="s3">):</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">driver</span><span class="s3">.</span><span class="s1">switch_to</span><span class="s3">.</span><span class="s1">default_content</span><span class="s3">()</span>

        <span class="s2">if </span><span class="s1">self</span><span class="s3">.</span><span class="s1">is_text_present</span><span class="s3">(</span><span class="s1">text</span><span class="s3">):</span>
            <span class="s2">return True</span>

        <span class="s1">subframes </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">find_elements</span><span class="s3">(</span><span class="s4">&quot;xpath://frame|//iframe&quot;</span><span class="s3">)</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">debug</span><span class="s3">(</span><span class="s4">f&quot;Current frame has </span><span class="s2">{</span><span class="s1">len</span><span class="s3">(</span><span class="s1">subframes</span><span class="s3">)</span><span class="s2">} </span><span class="s4">subframes.&quot;</span><span class="s3">)</span>
        <span class="s2">for </span><span class="s1">frame </span><span class="s2">in </span><span class="s1">subframes</span><span class="s3">:</span>
            <span class="s1">self</span><span class="s3">.</span><span class="s1">driver</span><span class="s3">.</span><span class="s1">switch_to</span><span class="s3">.</span><span class="s1">frame</span><span class="s3">(</span><span class="s1">frame</span><span class="s3">)</span>
            <span class="s1">found_text </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">is_text_present</span><span class="s3">(</span><span class="s1">text</span><span class="s3">)</span>
            <span class="s1">self</span><span class="s3">.</span><span class="s1">driver</span><span class="s3">.</span><span class="s1">switch_to</span><span class="s3">.</span><span class="s1">default_content</span><span class="s3">()</span>
            <span class="s2">if </span><span class="s1">found_text</span><span class="s3">:</span>
                <span class="s2">return True</span>
        <span class="s2">return False</span>

    <span class="s2">def </span><span class="s1">parse_modifier</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">modifier</span><span class="s3">):</span>
        <span class="s1">modifier </span><span class="s3">= </span><span class="s1">modifier</span><span class="s3">.</span><span class="s1">upper</span><span class="s3">()</span>
        <span class="s1">modifiers </span><span class="s3">= </span><span class="s1">modifier</span><span class="s3">.</span><span class="s1">split</span><span class="s3">(</span><span class="s4">&quot;+&quot;</span><span class="s3">)</span>
        <span class="s1">keys </span><span class="s3">= []</span>
        <span class="s2">for </span><span class="s1">item </span><span class="s2">in </span><span class="s1">modifiers</span><span class="s3">:</span>
            <span class="s1">item </span><span class="s3">= </span><span class="s1">item</span><span class="s3">.</span><span class="s1">strip</span><span class="s3">()</span>
            <span class="s1">item </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">_parse_aliases</span><span class="s3">(</span><span class="s1">item</span><span class="s3">)</span>
            <span class="s2">if </span><span class="s1">hasattr</span><span class="s3">(</span><span class="s1">Keys</span><span class="s3">, </span><span class="s1">item</span><span class="s3">):</span>
                <span class="s1">keys</span><span class="s3">.</span><span class="s1">append</span><span class="s3">(</span><span class="s1">getattr</span><span class="s3">(</span><span class="s1">Keys</span><span class="s3">, </span><span class="s1">item</span><span class="s3">))</span>
            <span class="s2">else</span><span class="s3">:</span>
                <span class="s2">raise </span><span class="s1">ValueError</span><span class="s3">(</span><span class="s4">f&quot;'</span><span class="s2">{</span><span class="s1">item</span><span class="s2">}</span><span class="s4">' modifier does not match to Selenium Keys&quot;</span><span class="s3">)</span>
        <span class="s2">return </span><span class="s1">keys</span>

    <span class="s2">def </span><span class="s1">_parse_keys</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, *</span><span class="s1">keys</span><span class="s3">):</span>
        <span class="s2">if not </span><span class="s1">keys</span><span class="s3">:</span>
            <span class="s2">raise </span><span class="s1">AssertionError</span><span class="s3">(</span><span class="s4">'&quot;keys&quot; argument can not be empty.'</span><span class="s3">)</span>
        <span class="s1">list_keys </span><span class="s3">= []</span>
        <span class="s2">for </span><span class="s1">key </span><span class="s2">in </span><span class="s1">keys</span><span class="s3">:</span>
            <span class="s1">separate_keys </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">_separate_key</span><span class="s3">(</span><span class="s1">key</span><span class="s3">)</span>
            <span class="s1">separate_keys </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">_convert_special_keys</span><span class="s3">(</span><span class="s1">separate_keys</span><span class="s3">)</span>
            <span class="s1">list_keys</span><span class="s3">.</span><span class="s1">append</span><span class="s3">(</span><span class="s1">separate_keys</span><span class="s3">)</span>
        <span class="s2">return </span><span class="s1">list_keys</span>

    <span class="s2">def </span><span class="s1">_parse_aliases</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">key</span><span class="s3">):</span>
        <span class="s2">if </span><span class="s1">key </span><span class="s3">== </span><span class="s4">&quot;CTRL&quot;</span><span class="s3">:</span>
            <span class="s2">return </span><span class="s4">&quot;CONTROL&quot;</span>
        <span class="s2">if </span><span class="s1">key </span><span class="s3">== </span><span class="s4">&quot;ESC&quot;</span><span class="s3">:</span>
            <span class="s2">return </span><span class="s4">&quot;ESCAPE&quot;</span>
        <span class="s2">return </span><span class="s1">key</span>

    <span class="s2">def </span><span class="s1">_separate_key</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">key</span><span class="s3">):</span>
        <span class="s1">one_key </span><span class="s3">= </span><span class="s4">&quot;&quot;</span>
        <span class="s1">list_keys </span><span class="s3">= []</span>
        <span class="s2">for </span><span class="s1">char </span><span class="s2">in </span><span class="s1">key</span><span class="s3">:</span>
            <span class="s2">if </span><span class="s1">char </span><span class="s3">== </span><span class="s4">&quot;+&quot; </span><span class="s2">and </span><span class="s1">one_key </span><span class="s3">!= </span><span class="s4">&quot;&quot;</span><span class="s3">:</span>
                <span class="s1">list_keys</span><span class="s3">.</span><span class="s1">append</span><span class="s3">(</span><span class="s1">one_key</span><span class="s3">)</span>
                <span class="s1">one_key </span><span class="s3">= </span><span class="s4">&quot;&quot;</span>
            <span class="s2">else</span><span class="s3">:</span>
                <span class="s1">one_key </span><span class="s3">+= </span><span class="s1">char</span>
        <span class="s2">if </span><span class="s1">one_key</span><span class="s3">:</span>
            <span class="s1">list_keys</span><span class="s3">.</span><span class="s1">append</span><span class="s3">(</span><span class="s1">one_key</span><span class="s3">)</span>
        <span class="s2">return </span><span class="s1">list_keys</span>

    <span class="s2">def </span><span class="s1">_convert_special_keys</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">keys</span><span class="s3">):</span>
        <span class="s1">KeysRecord </span><span class="s3">= </span><span class="s1">namedtuple</span><span class="s3">(</span><span class="s4">&quot;KeysRecord&quot;</span><span class="s3">, </span><span class="s4">&quot;converted, original special&quot;</span><span class="s3">)</span>
        <span class="s1">converted_keys </span><span class="s3">= []</span>
        <span class="s2">for </span><span class="s1">key </span><span class="s2">in </span><span class="s1">keys</span><span class="s3">:</span>
            <span class="s1">key </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">_parse_aliases</span><span class="s3">(</span><span class="s1">key</span><span class="s3">)</span>
            <span class="s2">if </span><span class="s1">self</span><span class="s3">.</span><span class="s1">_selenium_keys_has_attr</span><span class="s3">(</span><span class="s1">key</span><span class="s3">):</span>
                <span class="s1">converted_keys</span><span class="s3">.</span><span class="s1">append</span><span class="s3">(</span><span class="s1">KeysRecord</span><span class="s3">(</span><span class="s1">getattr</span><span class="s3">(</span><span class="s1">Keys</span><span class="s3">, </span><span class="s1">key</span><span class="s3">), </span><span class="s1">key</span><span class="s3">, </span><span class="s2">True</span><span class="s3">))</span>
            <span class="s2">else</span><span class="s3">:</span>
                <span class="s1">converted_keys</span><span class="s3">.</span><span class="s1">append</span><span class="s3">(</span><span class="s1">KeysRecord</span><span class="s3">(</span><span class="s1">key</span><span class="s3">, </span><span class="s1">key</span><span class="s3">, </span><span class="s2">False</span><span class="s3">))</span>
        <span class="s2">return </span><span class="s1">converted_keys</span>

    <span class="s2">def </span><span class="s1">_selenium_keys_has_attr</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">key</span><span class="s3">):</span>
        <span class="s2">return </span><span class="s1">hasattr</span><span class="s3">(</span><span class="s1">Keys</span><span class="s3">, </span><span class="s1">key</span><span class="s3">)</span>
</pre>
</body>
</html>