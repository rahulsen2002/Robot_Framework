<html>
<head>
<title>test_windows_wrappers.py</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #5f826b; font-style: italic;}
.s1 { color: #bcbec4;}
.s2 { color: #cf8e6d;}
.s3 { color: #bcbec4;}
.s4 { color: #6aab73;}
.s5 { color: #7a7e85;}
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
test_windows_wrappers.py</font>
</center></td></tr></table>
<pre><span class="s0">&quot;&quot;&quot; 
Python Script Wrapper for Windows 
================================= 
 
setuptools includes wrappers for Python scripts that allows them to be 
executed like regular windows programs.  There are 2 wrappers, one 
for command-line programs, cli.exe, and one for graphical programs, 
gui.exe.  These programs are almost identical, function pretty much 
the same way, and are generated from the same source file.  The 
wrapper programs are used by copying them to the directory containing 
the script they are to wrap and with the same name as the script they 
are to wrap. 
&quot;&quot;&quot;</span>

<span class="s2">import </span><span class="s1">pathlib</span>
<span class="s2">import </span><span class="s1">platform</span>
<span class="s2">import </span><span class="s1">subprocess</span>
<span class="s2">import </span><span class="s1">sys</span>
<span class="s2">import </span><span class="s1">textwrap</span>

<span class="s2">import </span><span class="s1">pytest</span>

<span class="s2">import </span><span class="s1">pkg_resources</span>

<span class="s1">pytestmark </span><span class="s3">= </span><span class="s1">pytest</span><span class="s3">.</span><span class="s1">mark</span><span class="s3">.</span><span class="s1">skipif</span><span class="s3">(</span><span class="s1">sys</span><span class="s3">.</span><span class="s1">platform </span><span class="s3">!= </span><span class="s4">'win32'</span><span class="s3">, </span><span class="s1">reason</span><span class="s3">=</span><span class="s4">&quot;Windows only&quot;</span><span class="s3">)</span>


<span class="s2">class </span><span class="s1">WrapperTester</span><span class="s3">:</span>
    <span class="s3">@</span><span class="s1">classmethod</span>
    <span class="s2">def </span><span class="s1">prep_script</span><span class="s3">(</span><span class="s1">cls</span><span class="s3">, </span><span class="s1">template</span><span class="s3">):</span>
        <span class="s1">python_exe </span><span class="s3">= </span><span class="s1">subprocess</span><span class="s3">.</span><span class="s1">list2cmdline</span><span class="s3">([</span><span class="s1">sys</span><span class="s3">.</span><span class="s1">executable</span><span class="s3">])</span>
        <span class="s2">return </span><span class="s1">template </span><span class="s3">% </span><span class="s1">locals</span><span class="s3">()</span>

    <span class="s3">@</span><span class="s1">classmethod</span>
    <span class="s2">def </span><span class="s1">create_script</span><span class="s3">(</span><span class="s1">cls</span><span class="s3">, </span><span class="s1">tmpdir</span><span class="s3">):</span>
        <span class="s0">&quot;&quot;&quot; 
        Create a simple script, foo-script.py 
 
        Note that the script starts with a Unix-style '#!' line saying which 
        Python executable to run.  The wrapper will use this line to find the 
        correct Python executable. 
        &quot;&quot;&quot;</span>

        <span class="s1">script </span><span class="s3">= </span><span class="s1">cls</span><span class="s3">.</span><span class="s1">prep_script</span><span class="s3">(</span><span class="s1">cls</span><span class="s3">.</span><span class="s1">script_tmpl</span><span class="s3">)</span>

        <span class="s2">with </span><span class="s3">(</span><span class="s1">tmpdir </span><span class="s3">/ </span><span class="s1">cls</span><span class="s3">.</span><span class="s1">script_name</span><span class="s3">).</span><span class="s1">open</span><span class="s3">(</span><span class="s4">'w'</span><span class="s3">) </span><span class="s2">as </span><span class="s1">f</span><span class="s3">:</span>
            <span class="s1">f</span><span class="s3">.</span><span class="s1">write</span><span class="s3">(</span><span class="s1">script</span><span class="s3">)</span>

        <span class="s5"># also copy cli.exe to the sample directory</span>
        <span class="s2">with </span><span class="s3">(</span><span class="s1">tmpdir </span><span class="s3">/ </span><span class="s1">cls</span><span class="s3">.</span><span class="s1">wrapper_name</span><span class="s3">).</span><span class="s1">open</span><span class="s3">(</span><span class="s4">'wb'</span><span class="s3">) </span><span class="s2">as </span><span class="s1">f</span><span class="s3">:</span>
            <span class="s1">w </span><span class="s3">= </span><span class="s1">pkg_resources</span><span class="s3">.</span><span class="s1">resource_string</span><span class="s3">(</span><span class="s4">'setuptools'</span><span class="s3">, </span><span class="s1">cls</span><span class="s3">.</span><span class="s1">wrapper_source</span><span class="s3">)</span>
            <span class="s1">f</span><span class="s3">.</span><span class="s1">write</span><span class="s3">(</span><span class="s1">w</span><span class="s3">)</span>


<span class="s2">def </span><span class="s1">win_launcher_exe</span><span class="s3">(</span><span class="s1">prefix</span><span class="s3">):</span>
    <span class="s0">&quot;&quot;&quot;A simple routine to select launcher script based on platform.&quot;&quot;&quot;</span>
    <span class="s2">assert </span><span class="s1">prefix </span><span class="s2">in </span><span class="s3">(</span><span class="s4">'cli'</span><span class="s3">, </span><span class="s4">'gui'</span><span class="s3">)</span>
    <span class="s2">if </span><span class="s1">platform</span><span class="s3">.</span><span class="s1">machine</span><span class="s3">() == </span><span class="s4">&quot;ARM64&quot;</span><span class="s3">:</span>
        <span class="s2">return </span><span class="s4">f&quot;</span><span class="s2">{</span><span class="s1">prefix</span><span class="s2">}</span><span class="s4">-arm64.exe&quot;</span>
    <span class="s2">else</span><span class="s3">:</span>
        <span class="s2">return </span><span class="s4">f&quot;</span><span class="s2">{</span><span class="s1">prefix</span><span class="s2">}</span><span class="s4">-32.exe&quot;</span>


<span class="s2">class </span><span class="s1">TestCLI</span><span class="s3">(</span><span class="s1">WrapperTester</span><span class="s3">):</span>
    <span class="s1">script_name </span><span class="s3">= </span><span class="s4">'foo-script.py'</span>
    <span class="s1">wrapper_name </span><span class="s3">= </span><span class="s4">'foo.exe'</span>
    <span class="s1">wrapper_source </span><span class="s3">= </span><span class="s1">win_launcher_exe</span><span class="s3">(</span><span class="s4">'cli'</span><span class="s3">)</span>

    <span class="s1">script_tmpl </span><span class="s3">= </span><span class="s1">textwrap</span><span class="s3">.</span><span class="s1">dedent</span><span class="s3">(</span>
        <span class="s4">&quot;&quot;&quot; 
        #!%(python_exe)s 
        import sys 
        input = repr(sys.stdin.read()) 
        print(sys.argv[0][-14:]) 
        print(sys.argv[1:]) 
        print(input) 
        if __debug__: 
            print('non-optimized') 
        &quot;&quot;&quot;</span>
    <span class="s3">).</span><span class="s1">lstrip</span><span class="s3">()</span>

    <span class="s2">def </span><span class="s1">test_basic</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">tmpdir</span><span class="s3">):</span>
        <span class="s0">&quot;&quot;&quot; 
        When the copy of cli.exe, foo.exe in this example, runs, it examines 
        the path name it was run with and computes a Python script path name 
        by removing the '.exe' suffix and adding the '-script.py' suffix. (For 
        GUI programs, the suffix '-script.pyw' is added.)  This is why we 
        named out script the way we did.  Now we can run out script by running 
        the wrapper: 
 
        This example was a little pathological in that it exercised windows 
        (MS C runtime) quoting rules: 
 
        - Strings containing spaces are surrounded by double quotes. 
 
        - Double quotes in strings need to be escaped by preceding them with 
          back slashes. 
 
        - One or more backslashes preceding double quotes need to be escaped 
          by preceding each of them with back slashes. 
        &quot;&quot;&quot;</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">create_script</span><span class="s3">(</span><span class="s1">tmpdir</span><span class="s3">)</span>
        <span class="s1">cmd </span><span class="s3">= [</span>
            <span class="s1">str</span><span class="s3">(</span><span class="s1">tmpdir </span><span class="s3">/ </span><span class="s4">'foo.exe'</span><span class="s3">),</span>
            <span class="s4">'arg1'</span><span class="s3">,</span>
            <span class="s4">'arg 2'</span><span class="s3">,</span>
            <span class="s4">'arg &quot;2</span><span class="s2">\\</span><span class="s4">&quot;'</span><span class="s3">,</span>
            <span class="s4">'arg 4</span><span class="s2">\\</span><span class="s4">'</span><span class="s3">,</span>
            <span class="s4">'arg5 a</span><span class="s2">\\\\</span><span class="s4">b'</span><span class="s3">,</span>
        <span class="s3">]</span>
        <span class="s1">proc </span><span class="s3">= </span><span class="s1">subprocess</span><span class="s3">.</span><span class="s1">Popen</span><span class="s3">(</span>
            <span class="s1">cmd</span><span class="s3">,</span>
            <span class="s1">stdout</span><span class="s3">=</span><span class="s1">subprocess</span><span class="s3">.</span><span class="s1">PIPE</span><span class="s3">,</span>
            <span class="s1">stdin</span><span class="s3">=</span><span class="s1">subprocess</span><span class="s3">.</span><span class="s1">PIPE</span><span class="s3">,</span>
            <span class="s1">text</span><span class="s3">=</span><span class="s2">True</span><span class="s3">,</span>
            <span class="s1">encoding</span><span class="s3">=</span><span class="s4">&quot;utf-8&quot;</span><span class="s3">,</span>
        <span class="s3">)</span>
        <span class="s1">stdout</span><span class="s3">, </span><span class="s1">_stderr </span><span class="s3">= </span><span class="s1">proc</span><span class="s3">.</span><span class="s1">communicate</span><span class="s3">(</span><span class="s4">'hello</span><span class="s2">\n</span><span class="s4">world</span><span class="s2">\n</span><span class="s4">'</span><span class="s3">)</span>
        <span class="s1">actual </span><span class="s3">= </span><span class="s1">stdout</span><span class="s3">.</span><span class="s1">replace</span><span class="s3">(</span><span class="s4">'</span><span class="s2">\r\n</span><span class="s4">'</span><span class="s3">, </span><span class="s4">'</span><span class="s2">\n</span><span class="s4">'</span><span class="s3">)</span>
        <span class="s1">expected </span><span class="s3">= </span><span class="s1">textwrap</span><span class="s3">.</span><span class="s1">dedent</span><span class="s3">(</span>
            <span class="s4">r&quot;&quot;&quot; 
            \foo-script.py 
            ['arg1', 'arg 2', 'arg &quot;2\\&quot;', 'arg 4\\', 'arg5 a\\\\b'] 
            'hello\nworld\n' 
            non-optimized 
            &quot;&quot;&quot;</span>
        <span class="s3">).</span><span class="s1">lstrip</span><span class="s3">()</span>
        <span class="s2">assert </span><span class="s1">actual </span><span class="s3">== </span><span class="s1">expected</span>

    <span class="s2">def </span><span class="s1">test_symlink</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">tmpdir</span><span class="s3">):</span>
        <span class="s0">&quot;&quot;&quot; 
        Ensure that symlink for the foo.exe is working correctly. 
        &quot;&quot;&quot;</span>
        <span class="s1">script_dir </span><span class="s3">= </span><span class="s1">tmpdir </span><span class="s3">/ </span><span class="s4">&quot;script_dir&quot;</span>
        <span class="s1">script_dir</span><span class="s3">.</span><span class="s1">mkdir</span><span class="s3">()</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">create_script</span><span class="s3">(</span><span class="s1">script_dir</span><span class="s3">)</span>
        <span class="s1">symlink </span><span class="s3">= </span><span class="s1">pathlib</span><span class="s3">.</span><span class="s1">Path</span><span class="s3">(</span><span class="s1">tmpdir </span><span class="s3">/ </span><span class="s4">&quot;foo.exe&quot;</span><span class="s3">)</span>
        <span class="s1">symlink</span><span class="s3">.</span><span class="s1">symlink_to</span><span class="s3">(</span><span class="s1">script_dir </span><span class="s3">/ </span><span class="s4">&quot;foo.exe&quot;</span><span class="s3">)</span>

        <span class="s1">cmd </span><span class="s3">= [</span>
            <span class="s1">str</span><span class="s3">(</span><span class="s1">tmpdir </span><span class="s3">/ </span><span class="s4">'foo.exe'</span><span class="s3">),</span>
            <span class="s4">'arg1'</span><span class="s3">,</span>
            <span class="s4">'arg 2'</span><span class="s3">,</span>
            <span class="s4">'arg &quot;2</span><span class="s2">\\</span><span class="s4">&quot;'</span><span class="s3">,</span>
            <span class="s4">'arg 4</span><span class="s2">\\</span><span class="s4">'</span><span class="s3">,</span>
            <span class="s4">'arg5 a</span><span class="s2">\\\\</span><span class="s4">b'</span><span class="s3">,</span>
        <span class="s3">]</span>
        <span class="s1">proc </span><span class="s3">= </span><span class="s1">subprocess</span><span class="s3">.</span><span class="s1">Popen</span><span class="s3">(</span>
            <span class="s1">cmd</span><span class="s3">,</span>
            <span class="s1">stdout</span><span class="s3">=</span><span class="s1">subprocess</span><span class="s3">.</span><span class="s1">PIPE</span><span class="s3">,</span>
            <span class="s1">stdin</span><span class="s3">=</span><span class="s1">subprocess</span><span class="s3">.</span><span class="s1">PIPE</span><span class="s3">,</span>
            <span class="s1">text</span><span class="s3">=</span><span class="s2">True</span><span class="s3">,</span>
            <span class="s1">encoding</span><span class="s3">=</span><span class="s4">&quot;utf-8&quot;</span><span class="s3">,</span>
        <span class="s3">)</span>
        <span class="s1">stdout</span><span class="s3">, </span><span class="s1">_stderr </span><span class="s3">= </span><span class="s1">proc</span><span class="s3">.</span><span class="s1">communicate</span><span class="s3">(</span><span class="s4">'hello</span><span class="s2">\n</span><span class="s4">world</span><span class="s2">\n</span><span class="s4">'</span><span class="s3">)</span>
        <span class="s1">actual </span><span class="s3">= </span><span class="s1">stdout</span><span class="s3">.</span><span class="s1">replace</span><span class="s3">(</span><span class="s4">'</span><span class="s2">\r\n</span><span class="s4">'</span><span class="s3">, </span><span class="s4">'</span><span class="s2">\n</span><span class="s4">'</span><span class="s3">)</span>
        <span class="s1">expected </span><span class="s3">= </span><span class="s1">textwrap</span><span class="s3">.</span><span class="s1">dedent</span><span class="s3">(</span>
            <span class="s4">r&quot;&quot;&quot; 
            \foo-script.py 
            ['arg1', 'arg 2', 'arg &quot;2\\&quot;', 'arg 4\\', 'arg5 a\\\\b'] 
            'hello\nworld\n' 
            non-optimized 
            &quot;&quot;&quot;</span>
        <span class="s3">).</span><span class="s1">lstrip</span><span class="s3">()</span>
        <span class="s2">assert </span><span class="s1">actual </span><span class="s3">== </span><span class="s1">expected</span>

    <span class="s2">def </span><span class="s1">test_with_options</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">tmpdir</span><span class="s3">):</span>
        <span class="s0">&quot;&quot;&quot; 
        Specifying Python Command-line Options 
        -------------------------------------- 
 
        You can specify a single argument on the '#!' line.  This can be used 
        to specify Python options like -O, to run in optimized mode or -i 
        to start the interactive interpreter.  You can combine multiple 
        options as usual. For example, to run in optimized mode and 
        enter the interpreter after running the script, you could use -Oi: 
        &quot;&quot;&quot;</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">create_script</span><span class="s3">(</span><span class="s1">tmpdir</span><span class="s3">)</span>
        <span class="s1">tmpl </span><span class="s3">= </span><span class="s1">textwrap</span><span class="s3">.</span><span class="s1">dedent</span><span class="s3">(</span>
            <span class="s4">&quot;&quot;&quot; 
            #!%(python_exe)s  -Oi 
            import sys 
            input = repr(sys.stdin.read()) 
            print(sys.argv[0][-14:]) 
            print(sys.argv[1:]) 
            print(input) 
            if __debug__: 
                print('non-optimized') 
            sys.ps1 = '---' 
            &quot;&quot;&quot;</span>
        <span class="s3">).</span><span class="s1">lstrip</span><span class="s3">()</span>
        <span class="s2">with </span><span class="s3">(</span><span class="s1">tmpdir </span><span class="s3">/ </span><span class="s4">'foo-script.py'</span><span class="s3">).</span><span class="s1">open</span><span class="s3">(</span><span class="s4">'w'</span><span class="s3">) </span><span class="s2">as </span><span class="s1">f</span><span class="s3">:</span>
            <span class="s1">f</span><span class="s3">.</span><span class="s1">write</span><span class="s3">(</span><span class="s1">self</span><span class="s3">.</span><span class="s1">prep_script</span><span class="s3">(</span><span class="s1">tmpl</span><span class="s3">))</span>
        <span class="s1">cmd </span><span class="s3">= [</span><span class="s1">str</span><span class="s3">(</span><span class="s1">tmpdir </span><span class="s3">/ </span><span class="s4">'foo.exe'</span><span class="s3">)]</span>
        <span class="s1">proc </span><span class="s3">= </span><span class="s1">subprocess</span><span class="s3">.</span><span class="s1">Popen</span><span class="s3">(</span>
            <span class="s1">cmd</span><span class="s3">,</span>
            <span class="s1">stdout</span><span class="s3">=</span><span class="s1">subprocess</span><span class="s3">.</span><span class="s1">PIPE</span><span class="s3">,</span>
            <span class="s1">stdin</span><span class="s3">=</span><span class="s1">subprocess</span><span class="s3">.</span><span class="s1">PIPE</span><span class="s3">,</span>
            <span class="s1">stderr</span><span class="s3">=</span><span class="s1">subprocess</span><span class="s3">.</span><span class="s1">STDOUT</span><span class="s3">,</span>
            <span class="s1">text</span><span class="s3">=</span><span class="s2">True</span><span class="s3">,</span>
            <span class="s1">encoding</span><span class="s3">=</span><span class="s4">&quot;utf-8&quot;</span><span class="s3">,</span>
        <span class="s3">)</span>
        <span class="s1">stdout</span><span class="s3">, </span><span class="s1">_stderr </span><span class="s3">= </span><span class="s1">proc</span><span class="s3">.</span><span class="s1">communicate</span><span class="s3">()</span>
        <span class="s1">actual </span><span class="s3">= </span><span class="s1">stdout</span><span class="s3">.</span><span class="s1">replace</span><span class="s3">(</span><span class="s4">'</span><span class="s2">\r\n</span><span class="s4">'</span><span class="s3">, </span><span class="s4">'</span><span class="s2">\n</span><span class="s4">'</span><span class="s3">)</span>
        <span class="s1">expected </span><span class="s3">= </span><span class="s1">textwrap</span><span class="s3">.</span><span class="s1">dedent</span><span class="s3">(</span>
            <span class="s4">r&quot;&quot;&quot; 
            \foo-script.py 
            [] 
            '' 
            --- 
            &quot;&quot;&quot;</span>
        <span class="s3">).</span><span class="s1">lstrip</span><span class="s3">()</span>
        <span class="s2">assert </span><span class="s1">actual </span><span class="s3">== </span><span class="s1">expected</span>


<span class="s2">class </span><span class="s1">TestGUI</span><span class="s3">(</span><span class="s1">WrapperTester</span><span class="s3">):</span>
    <span class="s0">&quot;&quot;&quot; 
    Testing the GUI Version 
    ----------------------- 
    &quot;&quot;&quot;</span>

    <span class="s1">script_name </span><span class="s3">= </span><span class="s4">'bar-script.pyw'</span>
    <span class="s1">wrapper_source </span><span class="s3">= </span><span class="s1">win_launcher_exe</span><span class="s3">(</span><span class="s4">'gui'</span><span class="s3">)</span>
    <span class="s1">wrapper_name </span><span class="s3">= </span><span class="s4">'bar.exe'</span>

    <span class="s1">script_tmpl </span><span class="s3">= </span><span class="s1">textwrap</span><span class="s3">.</span><span class="s1">dedent</span><span class="s3">(</span>
        <span class="s4">&quot;&quot;&quot; 
        #!%(python_exe)s 
        import sys 
        f = open(sys.argv[1], 'wb') 
        bytes_written = f.write(repr(sys.argv[2]).encode('utf-8')) 
        f.close() 
        &quot;&quot;&quot;</span>
    <span class="s3">).</span><span class="s1">strip</span><span class="s3">()</span>

    <span class="s2">def </span><span class="s1">test_basic</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">tmpdir</span><span class="s3">):</span>
        <span class="s0">&quot;&quot;&quot;Test the GUI version with the simple script, bar-script.py&quot;&quot;&quot;</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">create_script</span><span class="s3">(</span><span class="s1">tmpdir</span><span class="s3">)</span>

        <span class="s1">cmd </span><span class="s3">= [</span>
            <span class="s1">str</span><span class="s3">(</span><span class="s1">tmpdir </span><span class="s3">/ </span><span class="s4">'bar.exe'</span><span class="s3">),</span>
            <span class="s1">str</span><span class="s3">(</span><span class="s1">tmpdir </span><span class="s3">/ </span><span class="s4">'test_output.txt'</span><span class="s3">),</span>
            <span class="s4">'Test Argument'</span><span class="s3">,</span>
        <span class="s3">]</span>
        <span class="s1">proc </span><span class="s3">= </span><span class="s1">subprocess</span><span class="s3">.</span><span class="s1">Popen</span><span class="s3">(</span>
            <span class="s1">cmd</span><span class="s3">,</span>
            <span class="s1">stdout</span><span class="s3">=</span><span class="s1">subprocess</span><span class="s3">.</span><span class="s1">PIPE</span><span class="s3">,</span>
            <span class="s1">stdin</span><span class="s3">=</span><span class="s1">subprocess</span><span class="s3">.</span><span class="s1">PIPE</span><span class="s3">,</span>
            <span class="s1">stderr</span><span class="s3">=</span><span class="s1">subprocess</span><span class="s3">.</span><span class="s1">STDOUT</span><span class="s3">,</span>
            <span class="s1">text</span><span class="s3">=</span><span class="s2">True</span><span class="s3">,</span>
            <span class="s1">encoding</span><span class="s3">=</span><span class="s4">&quot;utf-8&quot;</span><span class="s3">,</span>
        <span class="s3">)</span>
        <span class="s1">stdout</span><span class="s3">, </span><span class="s1">stderr </span><span class="s3">= </span><span class="s1">proc</span><span class="s3">.</span><span class="s1">communicate</span><span class="s3">()</span>
        <span class="s2">assert not </span><span class="s1">stdout</span>
        <span class="s2">assert not </span><span class="s1">stderr</span>
        <span class="s2">with </span><span class="s3">(</span><span class="s1">tmpdir </span><span class="s3">/ </span><span class="s4">'test_output.txt'</span><span class="s3">).</span><span class="s1">open</span><span class="s3">(</span><span class="s4">'rb'</span><span class="s3">) </span><span class="s2">as </span><span class="s1">f_out</span><span class="s3">:</span>
            <span class="s1">actual </span><span class="s3">= </span><span class="s1">f_out</span><span class="s3">.</span><span class="s1">read</span><span class="s3">().</span><span class="s1">decode</span><span class="s3">(</span><span class="s4">'ascii'</span><span class="s3">)</span>
        <span class="s2">assert </span><span class="s1">actual </span><span class="s3">== </span><span class="s1">repr</span><span class="s3">(</span><span class="s4">'Test Argument'</span><span class="s3">)</span>
</pre>
</body>
</html>