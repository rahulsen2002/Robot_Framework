<html>
<head>
<title>jquery.tmpl.min.js</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #7a7e85;}
.s1 { color: #bcbec4;}
.s2 { color: #bcbec4;}
.s3 { color: #cf8e6d;}
.s4 { color: #6aab73;}
.s5 { color: #42c3d4;}
.s6 { color: #2aacb8;}
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
jquery.tmpl.min.js</font>
</center></td></tr></table>
<pre><span class="s0">/* 
 * jQuery Templates Plugin 1.0.0pre 
 * http://github.com/jquery/jquery-tmpl 
 * Requires jQuery 1.4.2 
 * 
 * Copyright Software Freedom Conservancy, Inc. 
 * Dual licensed under the MIT or GPL Version 2 licenses. 
 * http://jquery.org/license 
 */</span>
<span class="s2">(</span><span class="s3">function</span><span class="s2">(</span><span class="s1">a</span><span class="s2">){</span><span class="s3">var </span><span class="s1">r</span><span class="s2">=</span><span class="s1">a</span><span class="s2">.</span><span class="s1">fn</span><span class="s2">.</span><span class="s1">domManip</span><span class="s2">,</span><span class="s1">d</span><span class="s2">=</span><span class="s4">&quot;_tmplitem&quot;</span><span class="s2">,</span><span class="s1">q</span><span class="s2">=</span><span class="s5">/^[^&lt;]*(&lt;[\w\W]+&gt;)[^&gt;]*$|\{\{\! /</span><span class="s2">,</span><span class="s1">b</span><span class="s2">={},</span><span class="s1">f</span><span class="s2">={},</span><span class="s1">e</span><span class="s2">,</span><span class="s1">p</span><span class="s2">={</span><span class="s1">key</span><span class="s2">:</span><span class="s6">0</span><span class="s2">,</span><span class="s1">data</span><span class="s2">:{}},</span><span class="s1">i</span><span class="s2">=</span><span class="s6">0</span><span class="s2">,</span><span class="s1">c</span><span class="s2">=</span><span class="s6">0</span><span class="s2">,</span><span class="s1">l</span><span class="s2">=[];</span><span class="s3">function </span><span class="s1">g</span><span class="s2">(</span><span class="s1">g</span><span class="s2">,</span><span class="s1">d</span><span class="s2">,</span><span class="s1">h</span><span class="s2">,</span><span class="s1">e</span><span class="s2">){</span><span class="s3">var </span><span class="s1">c</span><span class="s2">={</span><span class="s1">data</span><span class="s2">:</span><span class="s1">e</span><span class="s2">||(</span><span class="s1">e</span><span class="s2">===</span><span class="s6">0</span><span class="s2">||</span><span class="s1">e</span><span class="s2">===</span><span class="s3">false</span><span class="s2">)?</span><span class="s1">e</span><span class="s2">:</span><span class="s1">d</span><span class="s2">?</span><span class="s1">d</span><span class="s2">.</span><span class="s1">data</span><span class="s2">:{},</span><span class="s1">_wrap</span><span class="s2">:</span><span class="s1">d</span><span class="s2">?</span><span class="s1">d</span><span class="s2">.</span><span class="s1">_wrap</span><span class="s2">:</span><span class="s3">null</span><span class="s2">,</span><span class="s1">tmpl</span><span class="s2">:</span><span class="s3">null</span><span class="s2">,</span><span class="s1">parent</span><span class="s2">:</span><span class="s1">d</span><span class="s2">||</span><span class="s3">null</span><span class="s2">,</span><span class="s1">nodes</span><span class="s2">:[],</span><span class="s1">calls</span><span class="s2">:</span><span class="s1">u</span><span class="s2">,</span><span class="s1">nest</span><span class="s2">:</span><span class="s1">w</span><span class="s2">,</span><span class="s1">wrap</span><span class="s2">:</span><span class="s1">x</span><span class="s2">,</span><span class="s1">html</span><span class="s2">:</span><span class="s1">v</span><span class="s2">,</span><span class="s1">update</span><span class="s2">:</span><span class="s1">t</span><span class="s2">};</span><span class="s1">g</span><span class="s2">&amp;&amp;</span><span class="s1">a</span><span class="s2">.</span><span class="s1">extend</span><span class="s2">(</span><span class="s1">c</span><span class="s2">,</span><span class="s1">g</span><span class="s2">,{</span><span class="s1">nodes</span><span class="s2">:[],</span><span class="s1">parent</span><span class="s2">:</span><span class="s1">d</span><span class="s2">});</span><span class="s3">if</span><span class="s2">(</span><span class="s1">h</span><span class="s2">){</span><span class="s1">c</span><span class="s2">.</span><span class="s1">tmpl</span><span class="s2">=</span><span class="s1">h</span><span class="s2">;</span><span class="s1">c</span><span class="s2">.</span><span class="s1">_ctnt</span><span class="s2">=</span><span class="s1">c</span><span class="s2">.</span><span class="s1">_ctnt</span><span class="s2">||</span><span class="s1">c</span><span class="s2">.</span><span class="s1">tmpl</span><span class="s2">(</span><span class="s1">a</span><span class="s2">,</span><span class="s1">c</span><span class="s2">);</span><span class="s1">c</span><span class="s2">.</span><span class="s1">key</span><span class="s2">=++</span><span class="s1">i</span><span class="s2">;(</span><span class="s1">l</span><span class="s2">.</span><span class="s1">length</span><span class="s2">?</span><span class="s1">f</span><span class="s2">:</span><span class="s1">b</span><span class="s2">)[</span><span class="s1">i</span><span class="s2">]=</span><span class="s1">c</span><span class="s2">}</span><span class="s3">return </span><span class="s1">c</span><span class="s2">}</span><span class="s1">a</span><span class="s2">.</span><span class="s1">each</span><span class="s2">({</span><span class="s1">appendTo</span><span class="s2">:</span><span class="s4">&quot;append&quot;</span><span class="s2">,</span><span class="s1">prependTo</span><span class="s2">:</span><span class="s4">&quot;prepend&quot;</span><span class="s2">,</span><span class="s1">insertBefore</span><span class="s2">:</span><span class="s4">&quot;before&quot;</span><span class="s2">,</span><span class="s1">insertAfter</span><span class="s2">:</span><span class="s4">&quot;after&quot;</span><span class="s2">,</span><span class="s1">replaceAll</span><span class="s2">:</span><span class="s4">&quot;replaceWith&quot;</span><span class="s2">},</span><span class="s3">function</span><span class="s2">(</span><span class="s1">f</span><span class="s2">,</span><span class="s1">d</span><span class="s2">){</span><span class="s1">a</span><span class="s2">.</span><span class="s1">fn</span><span class="s2">[</span><span class="s1">f</span><span class="s2">]=</span><span class="s3">function</span><span class="s2">(</span><span class="s1">n</span><span class="s2">){</span><span class="s3">var </span><span class="s1">g</span><span class="s2">=[],</span><span class="s1">i</span><span class="s2">=</span><span class="s1">a</span><span class="s2">(</span><span class="s1">n</span><span class="s2">),</span><span class="s1">k</span><span class="s2">,</span><span class="s1">h</span><span class="s2">,</span><span class="s1">m</span><span class="s2">,</span><span class="s1">l</span><span class="s2">,</span><span class="s1">j</span><span class="s2">=</span><span class="s3">this</span><span class="s2">.</span><span class="s1">length</span><span class="s2">===</span><span class="s6">1</span><span class="s2">&amp;&amp;</span><span class="s3">this</span><span class="s2">[</span><span class="s6">0</span><span class="s2">].</span><span class="s1">parentNode</span><span class="s2">;</span><span class="s1">e</span><span class="s2">=</span><span class="s1">b</span><span class="s2">||{};</span><span class="s3">if</span><span class="s2">(</span><span class="s1">j</span><span class="s2">&amp;&amp;</span><span class="s1">j</span><span class="s2">.</span><span class="s1">nodeType</span><span class="s2">===</span><span class="s6">11</span><span class="s2">&amp;&amp;</span><span class="s1">j</span><span class="s2">.</span><span class="s1">childNodes</span><span class="s2">.</span><span class="s1">length</span><span class="s2">===</span><span class="s6">1</span><span class="s2">&amp;&amp;</span><span class="s1">i</span><span class="s2">.</span><span class="s1">length</span><span class="s2">===</span><span class="s6">1</span><span class="s2">){</span><span class="s1">i</span><span class="s2">[</span><span class="s1">d</span><span class="s2">](</span><span class="s3">this</span><span class="s2">[</span><span class="s6">0</span><span class="s2">]);</span><span class="s1">g</span><span class="s2">=</span><span class="s3">this</span><span class="s2">}</span><span class="s3">else</span><span class="s2">{</span><span class="s3">for</span><span class="s2">(</span><span class="s1">h</span><span class="s2">=</span><span class="s6">0</span><span class="s2">,</span><span class="s1">m</span><span class="s2">=</span><span class="s1">i</span><span class="s2">.</span><span class="s1">length</span><span class="s2">;</span><span class="s1">h</span><span class="s2">&lt;</span><span class="s1">m</span><span class="s2">;</span><span class="s1">h</span><span class="s2">++){</span><span class="s1">c</span><span class="s2">=</span><span class="s1">h</span><span class="s2">;</span><span class="s1">k</span><span class="s2">=(</span><span class="s1">h</span><span class="s2">&gt;</span><span class="s6">0</span><span class="s2">?</span><span class="s3">this</span><span class="s2">.</span><span class="s1">clone</span><span class="s2">(</span><span class="s3">true</span><span class="s2">):</span><span class="s3">this</span><span class="s2">).</span><span class="s1">get</span><span class="s2">();</span><span class="s1">a</span><span class="s2">(</span><span class="s1">i</span><span class="s2">[</span><span class="s1">h</span><span class="s2">])[</span><span class="s1">d</span><span class="s2">](</span><span class="s1">k</span><span class="s2">);</span><span class="s1">g</span><span class="s2">=</span><span class="s1">g</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">k</span><span class="s2">)}</span><span class="s1">c</span><span class="s2">=</span><span class="s6">0</span><span class="s2">;</span><span class="s1">g</span><span class="s2">=</span><span class="s3">this</span><span class="s2">.</span><span class="s1">pushStack</span><span class="s2">(</span><span class="s1">g</span><span class="s2">,</span><span class="s1">f</span><span class="s2">,</span><span class="s1">i</span><span class="s2">.</span><span class="s1">selector</span><span class="s2">)}</span><span class="s1">l</span><span class="s2">=</span><span class="s1">e</span><span class="s2">;</span><span class="s1">e</span><span class="s2">=</span><span class="s3">null</span><span class="s2">;</span><span class="s1">a</span><span class="s2">.</span><span class="s1">tmpl</span><span class="s2">.</span><span class="s1">complete</span><span class="s2">(</span><span class="s1">l</span><span class="s2">);</span><span class="s3">return </span><span class="s1">g</span><span class="s2">}});</span><span class="s1">a</span><span class="s2">.</span><span class="s1">fn</span><span class="s2">.</span><span class="s1">extend</span><span class="s2">({</span><span class="s1">tmpl</span><span class="s2">:</span><span class="s3">function</span><span class="s2">(</span><span class="s1">d</span><span class="s2">,</span><span class="s1">c</span><span class="s2">,</span><span class="s1">b</span><span class="s2">){</span><span class="s3">return </span><span class="s1">a</span><span class="s2">.</span><span class="s1">tmpl</span><span class="s2">(</span><span class="s3">this</span><span class="s2">[</span><span class="s6">0</span><span class="s2">],</span><span class="s1">d</span><span class="s2">,</span><span class="s1">c</span><span class="s2">,</span><span class="s1">b</span><span class="s2">)},</span><span class="s1">tmplItem</span><span class="s2">:</span><span class="s3">function</span><span class="s2">(){</span><span class="s3">return </span><span class="s1">a</span><span class="s2">.</span><span class="s1">tmplItem</span><span class="s2">(</span><span class="s3">this</span><span class="s2">[</span><span class="s6">0</span><span class="s2">])},</span><span class="s1">template</span><span class="s2">:</span><span class="s3">function</span><span class="s2">(</span><span class="s1">b</span><span class="s2">){</span><span class="s3">return </span><span class="s1">a</span><span class="s2">.</span><span class="s1">template</span><span class="s2">(</span><span class="s1">b</span><span class="s2">,</span><span class="s3">this</span><span class="s2">[</span><span class="s6">0</span><span class="s2">])},</span><span class="s1">domManip</span><span class="s2">:</span><span class="s3">function</span><span class="s2">(</span><span class="s1">d</span><span class="s2">,</span><span class="s1">m</span><span class="s2">,</span><span class="s1">k</span><span class="s2">){</span><span class="s3">if</span><span class="s2">(</span><span class="s1">d</span><span class="s2">[</span><span class="s6">0</span><span class="s2">]&amp;&amp;</span><span class="s1">a</span><span class="s2">.</span><span class="s1">isArray</span><span class="s2">(</span><span class="s1">d</span><span class="s2">[</span><span class="s6">0</span><span class="s2">])){</span><span class="s3">var </span><span class="s1">g</span><span class="s2">=</span><span class="s1">a</span><span class="s2">.</span><span class="s1">makeArray</span><span class="s2">(</span><span class="s1">arguments</span><span class="s2">),</span><span class="s1">h</span><span class="s2">=</span><span class="s1">d</span><span class="s2">[</span><span class="s6">0</span><span class="s2">],</span><span class="s1">j</span><span class="s2">=</span><span class="s1">h</span><span class="s2">.</span><span class="s1">length</span><span class="s2">,</span><span class="s1">i</span><span class="s2">=</span><span class="s6">0</span><span class="s2">,</span><span class="s1">f</span><span class="s2">;</span><span class="s3">while</span><span class="s2">(</span><span class="s1">i</span><span class="s2">&lt;</span><span class="s1">j</span><span class="s2">&amp;&amp;!(</span><span class="s1">f</span><span class="s2">=</span><span class="s1">a</span><span class="s2">.</span><span class="s1">data</span><span class="s2">(</span><span class="s1">h</span><span class="s2">[</span><span class="s1">i</span><span class="s2">++],</span><span class="s4">&quot;tmplItem&quot;</span><span class="s2">)));</span><span class="s3">if</span><span class="s2">(</span><span class="s1">f</span><span class="s2">&amp;&amp;</span><span class="s1">c</span><span class="s2">)</span><span class="s1">g</span><span class="s2">[</span><span class="s6">2</span><span class="s2">]=</span><span class="s3">function</span><span class="s2">(</span><span class="s1">b</span><span class="s2">){</span><span class="s1">a</span><span class="s2">.</span><span class="s1">tmpl</span><span class="s2">.</span><span class="s1">afterManip</span><span class="s2">(</span><span class="s3">this</span><span class="s2">,</span><span class="s1">b</span><span class="s2">,</span><span class="s1">k</span><span class="s2">)};</span><span class="s1">r</span><span class="s2">.</span><span class="s1">apply</span><span class="s2">(</span><span class="s3">this</span><span class="s2">,</span><span class="s1">g</span><span class="s2">)}</span><span class="s3">else </span><span class="s1">r</span><span class="s2">.</span><span class="s1">apply</span><span class="s2">(</span><span class="s3">this</span><span class="s2">,</span><span class="s1">arguments</span><span class="s2">);</span><span class="s1">c</span><span class="s2">=</span><span class="s6">0</span><span class="s2">;!</span><span class="s1">e</span><span class="s2">&amp;&amp;</span><span class="s1">a</span><span class="s2">.</span><span class="s1">tmpl</span><span class="s2">.</span><span class="s1">complete</span><span class="s2">(</span><span class="s1">b</span><span class="s2">);</span><span class="s3">return this</span><span class="s2">}});</span><span class="s1">a</span><span class="s2">.</span><span class="s1">extend</span><span class="s2">({</span><span class="s1">tmpl</span><span class="s2">:</span><span class="s3">function</span><span class="s2">(</span><span class="s1">d</span><span class="s2">,</span><span class="s1">h</span><span class="s2">,</span><span class="s1">e</span><span class="s2">,</span><span class="s1">c</span><span class="s2">){</span><span class="s3">var </span><span class="s1">i</span><span class="s2">,</span><span class="s1">k</span><span class="s2">=!</span><span class="s1">c</span><span class="s2">;</span><span class="s3">if</span><span class="s2">(</span><span class="s1">k</span><span class="s2">){</span><span class="s1">c</span><span class="s2">=</span><span class="s1">p</span><span class="s2">;</span><span class="s1">d</span><span class="s2">=</span><span class="s1">a</span><span class="s2">.</span><span class="s1">template</span><span class="s2">[</span><span class="s1">d</span><span class="s2">]||</span><span class="s1">a</span><span class="s2">.</span><span class="s1">template</span><span class="s2">(</span><span class="s3">null</span><span class="s2">,</span><span class="s1">d</span><span class="s2">);</span><span class="s1">f</span><span class="s2">={}}</span><span class="s3">else if</span><span class="s2">(!</span><span class="s1">d</span><span class="s2">){</span><span class="s1">d</span><span class="s2">=</span><span class="s1">c</span><span class="s2">.</span><span class="s1">tmpl</span><span class="s2">;</span><span class="s1">b</span><span class="s2">[</span><span class="s1">c</span><span class="s2">.</span><span class="s1">key</span><span class="s2">]=</span><span class="s1">c</span><span class="s2">;</span><span class="s1">c</span><span class="s2">.</span><span class="s1">nodes</span><span class="s2">=[];</span><span class="s1">c</span><span class="s2">.</span><span class="s1">wrapped</span><span class="s2">&amp;&amp;</span><span class="s1">n</span><span class="s2">(</span><span class="s1">c</span><span class="s2">,</span><span class="s1">c</span><span class="s2">.</span><span class="s1">wrapped</span><span class="s2">);</span><span class="s3">return </span><span class="s1">a</span><span class="s2">(</span><span class="s1">j</span><span class="s2">(</span><span class="s1">c</span><span class="s2">,</span><span class="s3">null</span><span class="s2">,</span><span class="s1">c</span><span class="s2">.</span><span class="s1">tmpl</span><span class="s2">(</span><span class="s1">a</span><span class="s2">,</span><span class="s1">c</span><span class="s2">)))}</span><span class="s3">if</span><span class="s2">(!</span><span class="s1">d</span><span class="s2">)</span><span class="s3">return</span><span class="s2">[];</span><span class="s3">if</span><span class="s2">(</span><span class="s3">typeof </span><span class="s1">h</span><span class="s2">===</span><span class="s4">&quot;function&quot;</span><span class="s2">)</span><span class="s1">h</span><span class="s2">=</span><span class="s1">h</span><span class="s2">.</span><span class="s1">call</span><span class="s2">(</span><span class="s1">c</span><span class="s2">||{});</span><span class="s1">e</span><span class="s2">&amp;&amp;</span><span class="s1">e</span><span class="s2">.</span><span class="s1">wrapped</span><span class="s2">&amp;&amp;</span><span class="s1">n</span><span class="s2">(</span><span class="s1">e</span><span class="s2">,</span><span class="s1">e</span><span class="s2">.</span><span class="s1">wrapped</span><span class="s2">);</span><span class="s1">i</span><span class="s2">=</span><span class="s1">a</span><span class="s2">.</span><span class="s1">isArray</span><span class="s2">(</span><span class="s1">h</span><span class="s2">)?</span><span class="s1">a</span><span class="s2">.</span><span class="s1">map</span><span class="s2">(</span><span class="s1">h</span><span class="s2">,</span><span class="s3">function</span><span class="s2">(</span><span class="s1">a</span><span class="s2">){</span><span class="s3">return </span><span class="s1">a</span><span class="s2">?</span><span class="s1">g</span><span class="s2">(</span><span class="s1">e</span><span class="s2">,</span><span class="s1">c</span><span class="s2">,</span><span class="s1">d</span><span class="s2">,</span><span class="s1">a</span><span class="s2">):</span><span class="s3">null</span><span class="s2">}):[</span><span class="s1">g</span><span class="s2">(</span><span class="s1">e</span><span class="s2">,</span><span class="s1">c</span><span class="s2">,</span><span class="s1">d</span><span class="s2">,</span><span class="s1">h</span><span class="s2">)];</span><span class="s3">return </span><span class="s1">k</span><span class="s2">?</span><span class="s1">a</span><span class="s2">(</span><span class="s1">j</span><span class="s2">(</span><span class="s1">c</span><span class="s2">,</span><span class="s3">null</span><span class="s2">,</span><span class="s1">i</span><span class="s2">)):</span><span class="s1">i</span><span class="s2">},</span><span class="s1">tmplItem</span><span class="s2">:</span><span class="s3">function</span><span class="s2">(</span><span class="s1">b</span><span class="s2">){</span><span class="s3">var </span><span class="s1">c</span><span class="s2">;</span><span class="s3">if</span><span class="s2">(</span><span class="s1">b </span><span class="s3">instanceof </span><span class="s1">a</span><span class="s2">)</span><span class="s1">b</span><span class="s2">=</span><span class="s1">b</span><span class="s2">[</span><span class="s6">0</span><span class="s2">];</span><span class="s3">while</span><span class="s2">(</span><span class="s1">b</span><span class="s2">&amp;&amp;</span><span class="s1">b</span><span class="s2">.</span><span class="s1">nodeType</span><span class="s2">===</span><span class="s6">1</span><span class="s2">&amp;&amp;!(</span><span class="s1">c</span><span class="s2">=</span><span class="s1">a</span><span class="s2">.</span><span class="s1">data</span><span class="s2">(</span><span class="s1">b</span><span class="s2">,</span><span class="s4">&quot;tmplItem&quot;</span><span class="s2">))&amp;&amp;(</span><span class="s1">b</span><span class="s2">=</span><span class="s1">b</span><span class="s2">.</span><span class="s1">parentNode</span><span class="s2">));</span><span class="s3">return </span><span class="s1">c</span><span class="s2">||</span><span class="s1">p</span><span class="s2">},</span><span class="s1">template</span><span class="s2">:</span><span class="s3">function</span><span class="s2">(</span><span class="s1">c</span><span class="s2">,</span><span class="s1">b</span><span class="s2">){</span><span class="s3">if</span><span class="s2">(</span><span class="s1">b</span><span class="s2">){</span><span class="s3">if</span><span class="s2">(</span><span class="s3">typeof </span><span class="s1">b</span><span class="s2">===</span><span class="s4">&quot;string&quot;</span><span class="s2">)</span><span class="s1">b</span><span class="s2">=</span><span class="s1">o</span><span class="s2">(</span><span class="s1">b</span><span class="s2">);</span><span class="s3">else if</span><span class="s2">(</span><span class="s1">b </span><span class="s3">instanceof </span><span class="s1">a</span><span class="s2">)</span><span class="s1">b</span><span class="s2">=</span><span class="s1">b</span><span class="s2">[</span><span class="s6">0</span><span class="s2">]||{};</span><span class="s3">if</span><span class="s2">(</span><span class="s1">b</span><span class="s2">.</span><span class="s1">nodeType</span><span class="s2">)</span><span class="s1">b</span><span class="s2">=</span><span class="s1">a</span><span class="s2">.</span><span class="s1">data</span><span class="s2">(</span><span class="s1">b</span><span class="s2">,</span><span class="s4">&quot;tmpl&quot;</span><span class="s2">)||</span><span class="s1">a</span><span class="s2">.</span><span class="s1">data</span><span class="s2">(</span><span class="s1">b</span><span class="s2">,</span><span class="s4">&quot;tmpl&quot;</span><span class="s2">,</span><span class="s1">o</span><span class="s2">(</span><span class="s1">b</span><span class="s2">.</span><span class="s1">innerHTML</span><span class="s2">));</span><span class="s3">return typeof </span><span class="s1">c</span><span class="s2">===</span><span class="s4">&quot;string&quot;</span><span class="s2">?(</span><span class="s1">a</span><span class="s2">.</span><span class="s1">template</span><span class="s2">[</span><span class="s1">c</span><span class="s2">]=</span><span class="s1">b</span><span class="s2">):</span><span class="s1">b</span><span class="s2">}</span><span class="s3">return </span><span class="s1">c</span><span class="s2">?</span><span class="s3">typeof </span><span class="s1">c</span><span class="s2">!==</span><span class="s4">&quot;string&quot;</span><span class="s2">?</span><span class="s1">a</span><span class="s2">.</span><span class="s1">template</span><span class="s2">(</span><span class="s3">null</span><span class="s2">,</span><span class="s1">c</span><span class="s2">):</span><span class="s1">a</span><span class="s2">.</span><span class="s1">template</span><span class="s2">[</span><span class="s1">c</span><span class="s2">]||</span><span class="s1">a</span><span class="s2">.</span><span class="s1">template</span><span class="s2">(</span><span class="s3">null</span><span class="s2">,</span><span class="s1">q</span><span class="s2">.</span><span class="s1">test</span><span class="s2">(</span><span class="s1">c</span><span class="s2">)?</span><span class="s1">c</span><span class="s2">:</span><span class="s1">a</span><span class="s2">(</span><span class="s1">c</span><span class="s2">)):</span><span class="s3">null</span><span class="s2">},</span><span class="s1">encode</span><span class="s2">:</span><span class="s3">function</span><span class="s2">(</span><span class="s1">a</span><span class="s2">){</span><span class="s3">return</span><span class="s2">(</span><span class="s4">&quot;&quot;</span><span class="s2">+</span><span class="s1">a</span><span class="s2">).</span><span class="s1">split</span><span class="s2">(</span><span class="s4">&quot;&amp;&quot;</span><span class="s2">).</span><span class="s1">join</span><span class="s2">(</span><span class="s4">&quot;&amp;amp;&quot;</span><span class="s2">).</span><span class="s1">split</span><span class="s2">(</span><span class="s4">&quot;&lt;&quot;</span><span class="s2">).</span><span class="s1">join</span><span class="s2">(</span><span class="s4">&quot;&amp;lt;&quot;</span><span class="s2">).</span><span class="s1">split</span><span class="s2">(</span><span class="s4">&quot;&gt;&quot;</span><span class="s2">).</span><span class="s1">join</span><span class="s2">(</span><span class="s4">&quot;&amp;gt;&quot;</span><span class="s2">).</span><span class="s1">split</span><span class="s2">(</span><span class="s4">'&quot;'</span><span class="s2">).</span><span class="s1">join</span><span class="s2">(</span><span class="s4">&quot;&amp;#34;&quot;</span><span class="s2">).</span><span class="s1">split</span><span class="s2">(</span><span class="s4">&quot;'&quot;</span><span class="s2">).</span><span class="s1">join</span><span class="s2">(</span><span class="s4">&quot;&amp;#39;&quot;</span><span class="s2">)}});</span><span class="s1">a</span><span class="s2">.</span><span class="s1">extend</span><span class="s2">(</span><span class="s1">a</span><span class="s2">.</span><span class="s1">tmpl</span><span class="s2">,{</span><span class="s1">tag</span><span class="s2">:{</span><span class="s1">tmpl</span><span class="s2">:{</span><span class="s1">_default</span><span class="s2">:{</span><span class="s1">$2</span><span class="s2">:</span><span class="s4">&quot;null&quot;</span><span class="s2">},</span><span class="s1">open</span><span class="s2">:</span><span class="s4">&quot;if($notnull_1){__=__.concat($item.nest($1,$2));}&quot;</span><span class="s2">},</span><span class="s1">wrap</span><span class="s2">:{</span><span class="s1">_default</span><span class="s2">:{</span><span class="s1">$2</span><span class="s2">:</span><span class="s4">&quot;null&quot;</span><span class="s2">},</span><span class="s1">open</span><span class="s2">:</span><span class="s4">&quot;$item.calls(__,$1,$2);__=[];&quot;</span><span class="s2">,</span><span class="s1">close</span><span class="s2">:</span><span class="s4">&quot;call=$item.calls();__=call._.concat($item.wrap(call,__));&quot;</span><span class="s2">},</span><span class="s1">each</span><span class="s2">:{</span><span class="s1">_default</span><span class="s2">:{</span><span class="s1">$2</span><span class="s2">:</span><span class="s4">&quot;$index, $value&quot;</span><span class="s2">},</span><span class="s1">open</span><span class="s2">:</span><span class="s4">&quot;if($notnull_1){$.each($1a,function($2){with(this){&quot;</span><span class="s2">,</span><span class="s1">close</span><span class="s2">:</span><span class="s4">&quot;}});}&quot;</span><span class="s2">},</span><span class="s4">&quot;if&quot;</span><span class="s2">:{</span><span class="s1">open</span><span class="s2">:</span><span class="s4">&quot;if(($notnull_1) &amp;&amp; $1a){&quot;</span><span class="s2">,</span><span class="s1">close</span><span class="s2">:</span><span class="s4">&quot;}&quot;</span><span class="s2">},</span><span class="s4">&quot;else&quot;</span><span class="s2">:{</span><span class="s1">_default</span><span class="s2">:{</span><span class="s1">$1</span><span class="s2">:</span><span class="s4">&quot;true&quot;</span><span class="s2">},</span><span class="s1">open</span><span class="s2">:</span><span class="s4">&quot;}else if(($notnull_1) &amp;&amp; $1a){&quot;</span><span class="s2">},</span><span class="s1">html</span><span class="s2">:{</span><span class="s1">open</span><span class="s2">:</span><span class="s4">&quot;if($notnull_1){__.push($1a);}&quot;</span><span class="s2">},</span><span class="s4">&quot;=&quot;</span><span class="s2">:{</span><span class="s1">_default</span><span class="s2">:{</span><span class="s1">$1</span><span class="s2">:</span><span class="s4">&quot;$data&quot;</span><span class="s2">},</span><span class="s1">open</span><span class="s2">:</span><span class="s4">&quot;if($notnull_1){__.push($.encode($1a));}&quot;</span><span class="s2">},</span><span class="s4">&quot;!&quot;</span><span class="s2">:{</span><span class="s1">open</span><span class="s2">:</span><span class="s4">&quot;&quot;</span><span class="s2">}},</span><span class="s1">complete</span><span class="s2">:</span><span class="s3">function</span><span class="s2">(){</span><span class="s1">b</span><span class="s2">={}},</span><span class="s1">afterManip</span><span class="s2">:</span><span class="s3">function</span><span class="s2">(</span><span class="s1">f</span><span class="s2">,</span><span class="s1">b</span><span class="s2">,</span><span class="s1">d</span><span class="s2">){</span><span class="s3">var </span><span class="s1">e</span><span class="s2">=</span><span class="s1">b</span><span class="s2">.</span><span class="s1">nodeType</span><span class="s2">===</span><span class="s6">11</span><span class="s2">?</span><span class="s1">a</span><span class="s2">.</span><span class="s1">makeArray</span><span class="s2">(</span><span class="s1">b</span><span class="s2">.</span><span class="s1">childNodes</span><span class="s2">):</span><span class="s1">b</span><span class="s2">.</span><span class="s1">nodeType</span><span class="s2">===</span><span class="s6">1</span><span class="s2">?[</span><span class="s1">b</span><span class="s2">]:[];</span><span class="s1">d</span><span class="s2">.</span><span class="s1">call</span><span class="s2">(</span><span class="s1">f</span><span class="s2">,</span><span class="s1">b</span><span class="s2">);</span><span class="s1">m</span><span class="s2">(</span><span class="s1">e</span><span class="s2">);</span><span class="s1">c</span><span class="s2">++}});</span><span class="s3">function </span><span class="s1">j</span><span class="s2">(</span><span class="s1">e</span><span class="s2">,</span><span class="s1">g</span><span class="s2">,</span><span class="s1">f</span><span class="s2">){</span><span class="s3">var </span><span class="s1">b</span><span class="s2">,</span><span class="s1">c</span><span class="s2">=</span><span class="s1">f</span><span class="s2">?</span><span class="s1">a</span><span class="s2">.</span><span class="s1">map</span><span class="s2">(</span><span class="s1">f</span><span class="s2">,</span><span class="s3">function</span><span class="s2">(</span><span class="s1">a</span><span class="s2">){</span><span class="s3">return typeof </span><span class="s1">a</span><span class="s2">===</span><span class="s4">&quot;string&quot;</span><span class="s2">?</span><span class="s1">e</span><span class="s2">.</span><span class="s1">key</span><span class="s2">?</span><span class="s1">a</span><span class="s2">.</span><span class="s1">replace</span><span class="s2">(</span><span class="s5">/(&lt;\w+)(?=[\s&gt;])(?![^&gt;]*_tmplitem)([^&gt;]*)/g</span><span class="s2">,</span><span class="s4">&quot;$1 &quot;</span><span class="s2">+</span><span class="s1">d</span><span class="s2">+</span><span class="s4">'=&quot;'</span><span class="s2">+</span><span class="s1">e</span><span class="s2">.</span><span class="s1">key</span><span class="s2">+</span><span class="s4">'&quot; $2'</span><span class="s2">):</span><span class="s1">a</span><span class="s2">:</span><span class="s1">j</span><span class="s2">(</span><span class="s1">a</span><span class="s2">,</span><span class="s1">e</span><span class="s2">,</span><span class="s1">a</span><span class="s2">.</span><span class="s1">_ctnt</span><span class="s2">)}):</span><span class="s1">e</span><span class="s2">;</span><span class="s3">if</span><span class="s2">(</span><span class="s1">g</span><span class="s2">)</span><span class="s3">return </span><span class="s1">c</span><span class="s2">;</span><span class="s1">c</span><span class="s2">=</span><span class="s1">c</span><span class="s2">.</span><span class="s1">join</span><span class="s2">(</span><span class="s4">&quot;&quot;</span><span class="s2">);</span><span class="s1">c</span><span class="s2">.</span><span class="s1">replace</span><span class="s2">(</span><span class="s5">/^\s*([^&lt;\s][^&lt;]*)?(&lt;[\w\W]+&gt;)([^&gt;]*[^&gt;\s])?\s*$/</span><span class="s2">,</span><span class="s3">function</span><span class="s2">(</span><span class="s1">f</span><span class="s2">,</span><span class="s1">c</span><span class="s2">,</span><span class="s1">e</span><span class="s2">,</span><span class="s1">d</span><span class="s2">){</span><span class="s1">b</span><span class="s2">=</span><span class="s1">a</span><span class="s2">(</span><span class="s1">e</span><span class="s2">).</span><span class="s1">get</span><span class="s2">();</span><span class="s1">m</span><span class="s2">(</span><span class="s1">b</span><span class="s2">);</span><span class="s3">if</span><span class="s2">(</span><span class="s1">c</span><span class="s2">)</span><span class="s1">b</span><span class="s2">=</span><span class="s1">k</span><span class="s2">(</span><span class="s1">c</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">b</span><span class="s2">);</span><span class="s3">if</span><span class="s2">(</span><span class="s1">d</span><span class="s2">)</span><span class="s1">b</span><span class="s2">=</span><span class="s1">b</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">k</span><span class="s2">(</span><span class="s1">d</span><span class="s2">))});</span><span class="s3">return </span><span class="s1">b</span><span class="s2">?</span><span class="s1">b</span><span class="s2">:</span><span class="s1">k</span><span class="s2">(</span><span class="s1">c</span><span class="s2">)}</span><span class="s3">function </span><span class="s1">k</span><span class="s2">(</span><span class="s1">c</span><span class="s2">){</span><span class="s3">var </span><span class="s1">b</span><span class="s2">=</span><span class="s1">document</span><span class="s2">.</span><span class="s1">createElement</span><span class="s2">(</span><span class="s4">&quot;div&quot;</span><span class="s2">);</span><span class="s1">b</span><span class="s2">.</span><span class="s1">innerHTML</span><span class="s2">=</span><span class="s1">c</span><span class="s2">;</span><span class="s3">return </span><span class="s1">a</span><span class="s2">.</span><span class="s1">makeArray</span><span class="s2">(</span><span class="s1">b</span><span class="s2">.</span><span class="s1">childNodes</span><span class="s2">)}</span><span class="s3">function </span><span class="s1">o</span><span class="s2">(</span><span class="s1">b</span><span class="s2">){</span><span class="s3">return new </span><span class="s1">Function</span><span class="s2">(</span><span class="s4">&quot;jQuery&quot;</span><span class="s2">,</span><span class="s4">&quot;$item&quot;</span><span class="s2">,</span><span class="s4">&quot;var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('&quot;</span><span class="s2">+</span><span class="s1">a</span><span class="s2">.</span><span class="s1">trim</span><span class="s2">(</span><span class="s1">b</span><span class="s2">).</span><span class="s1">replace</span><span class="s2">(</span><span class="s5">/([\\'])/g</span><span class="s2">,</span><span class="s4">&quot;</span><span class="s3">\\</span><span class="s4">$1&quot;</span><span class="s2">).</span><span class="s1">replace</span><span class="s2">(</span><span class="s5">/[\r\t\n]/g</span><span class="s2">,</span><span class="s4">&quot; &quot;</span><span class="s2">).</span><span class="s1">replace</span><span class="s2">(</span><span class="s5">/\$\{([^\}]*)\}/g</span><span class="s2">,</span><span class="s4">&quot;{{= $1}}&quot;</span><span class="s2">).</span><span class="s1">replace</span><span class="s2">(</span><span class="s5">/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g</span><span class="s2">,</span><span class="s3">function</span><span class="s2">(</span><span class="s1">m</span><span class="s2">,</span><span class="s1">l</span><span class="s2">,</span><span class="s1">k</span><span class="s2">,</span><span class="s1">g</span><span class="s2">,</span><span class="s1">b</span><span class="s2">,</span><span class="s1">c</span><span class="s2">,</span><span class="s1">d</span><span class="s2">){</span><span class="s3">var </span><span class="s1">j</span><span class="s2">=</span><span class="s1">a</span><span class="s2">.</span><span class="s1">tmpl</span><span class="s2">.</span><span class="s1">tag</span><span class="s2">[</span><span class="s1">k</span><span class="s2">],</span><span class="s1">i</span><span class="s2">,</span><span class="s1">e</span><span class="s2">,</span><span class="s1">f</span><span class="s2">;</span><span class="s3">if</span><span class="s2">(!</span><span class="s1">j</span><span class="s2">)</span><span class="s3">throw</span><span class="s4">&quot;Unknown template tag: &quot;</span><span class="s2">+</span><span class="s1">k</span><span class="s2">;</span><span class="s1">i</span><span class="s2">=</span><span class="s1">j</span><span class="s2">.</span><span class="s1">_default</span><span class="s2">||[];</span><span class="s3">if</span><span class="s2">(</span><span class="s1">c</span><span class="s2">&amp;&amp;!</span><span class="s5">/\w$/</span><span class="s2">.</span><span class="s1">test</span><span class="s2">(</span><span class="s1">b</span><span class="s2">)){</span><span class="s1">b</span><span class="s2">+=</span><span class="s1">c</span><span class="s2">;</span><span class="s1">c</span><span class="s2">=</span><span class="s4">&quot;&quot;</span><span class="s2">}</span><span class="s3">if</span><span class="s2">(</span><span class="s1">b</span><span class="s2">){</span><span class="s1">b</span><span class="s2">=</span><span class="s1">h</span><span class="s2">(</span><span class="s1">b</span><span class="s2">);</span><span class="s1">d</span><span class="s2">=</span><span class="s1">d</span><span class="s2">?</span><span class="s4">&quot;,&quot;</span><span class="s2">+</span><span class="s1">h</span><span class="s2">(</span><span class="s1">d</span><span class="s2">)+</span><span class="s4">&quot;)&quot;</span><span class="s2">:</span><span class="s1">c</span><span class="s2">?</span><span class="s4">&quot;)&quot;</span><span class="s2">:</span><span class="s4">&quot;&quot;</span><span class="s2">;</span><span class="s1">e</span><span class="s2">=</span><span class="s1">c</span><span class="s2">?</span><span class="s1">b</span><span class="s2">.</span><span class="s1">indexOf</span><span class="s2">(</span><span class="s4">&quot;.&quot;</span><span class="s2">)&gt;-</span><span class="s6">1</span><span class="s2">?</span><span class="s1">b</span><span class="s2">+</span><span class="s1">h</span><span class="s2">(</span><span class="s1">c</span><span class="s2">):</span><span class="s4">&quot;(&quot;</span><span class="s2">+</span><span class="s1">b</span><span class="s2">+</span><span class="s4">&quot;).call($item&quot;</span><span class="s2">+</span><span class="s1">d</span><span class="s2">:</span><span class="s1">b</span><span class="s2">;</span><span class="s1">f</span><span class="s2">=</span><span class="s1">c</span><span class="s2">?</span><span class="s1">e</span><span class="s2">:</span><span class="s4">&quot;(typeof(&quot;</span><span class="s2">+</span><span class="s1">b</span><span class="s2">+</span><span class="s4">&quot;)==='function'?(&quot;</span><span class="s2">+</span><span class="s1">b</span><span class="s2">+</span><span class="s4">&quot;).call($item):(&quot;</span><span class="s2">+</span><span class="s1">b</span><span class="s2">+</span><span class="s4">&quot;))&quot;</span><span class="s2">}</span><span class="s3">else </span><span class="s1">f</span><span class="s2">=</span><span class="s1">e</span><span class="s2">=</span><span class="s1">i</span><span class="s2">.</span><span class="s1">$1</span><span class="s2">||</span><span class="s4">&quot;null&quot;</span><span class="s2">;</span><span class="s1">g</span><span class="s2">=</span><span class="s1">h</span><span class="s2">(</span><span class="s1">g</span><span class="s2">);</span><span class="s3">return</span><span class="s4">&quot;');&quot;</span><span class="s2">+</span><span class="s1">j</span><span class="s2">[</span><span class="s1">l</span><span class="s2">?</span><span class="s4">&quot;close&quot;</span><span class="s2">:</span><span class="s4">&quot;open&quot;</span><span class="s2">].</span><span class="s1">split</span><span class="s2">(</span><span class="s4">&quot;$notnull_1&quot;</span><span class="s2">).</span><span class="s1">join</span><span class="s2">(</span><span class="s1">b</span><span class="s2">?</span><span class="s4">&quot;typeof(&quot;</span><span class="s2">+</span><span class="s1">b</span><span class="s2">+</span><span class="s4">&quot;)!=='undefined' &amp;&amp; (&quot;</span><span class="s2">+</span><span class="s1">b</span><span class="s2">+</span><span class="s4">&quot;)!=null&quot;</span><span class="s2">:</span><span class="s4">&quot;true&quot;</span><span class="s2">).</span><span class="s1">split</span><span class="s2">(</span><span class="s4">&quot;$1a&quot;</span><span class="s2">).</span><span class="s1">join</span><span class="s2">(</span><span class="s1">f</span><span class="s2">).</span><span class="s1">split</span><span class="s2">(</span><span class="s4">&quot;$1&quot;</span><span class="s2">).</span><span class="s1">join</span><span class="s2">(</span><span class="s1">e</span><span class="s2">).</span><span class="s1">split</span><span class="s2">(</span><span class="s4">&quot;$2&quot;</span><span class="s2">).</span><span class="s1">join</span><span class="s2">(</span><span class="s1">g</span><span class="s2">||</span><span class="s1">i</span><span class="s2">.</span><span class="s1">$2</span><span class="s2">||</span><span class="s4">&quot;&quot;</span><span class="s2">)+</span><span class="s4">&quot;__.push('&quot;</span><span class="s2">})+</span><span class="s4">&quot;');}return __;&quot;</span><span class="s2">)}</span><span class="s3">function </span><span class="s1">n</span><span class="s2">(</span><span class="s1">c</span><span class="s2">,</span><span class="s1">b</span><span class="s2">){</span><span class="s1">c</span><span class="s2">.</span><span class="s1">_wrap</span><span class="s2">=</span><span class="s1">j</span><span class="s2">(</span><span class="s1">c</span><span class="s2">,</span><span class="s3">true</span><span class="s2">,</span><span class="s1">a</span><span class="s2">.</span><span class="s1">isArray</span><span class="s2">(</span><span class="s1">b</span><span class="s2">)?</span><span class="s1">b</span><span class="s2">:[</span><span class="s1">q</span><span class="s2">.</span><span class="s1">test</span><span class="s2">(</span><span class="s1">b</span><span class="s2">)?</span><span class="s1">b</span><span class="s2">:</span><span class="s1">a</span><span class="s2">(</span><span class="s1">b</span><span class="s2">).</span><span class="s1">html</span><span class="s2">()]).</span><span class="s1">join</span><span class="s2">(</span><span class="s4">&quot;&quot;</span><span class="s2">)}</span><span class="s3">function </span><span class="s1">h</span><span class="s2">(</span><span class="s1">a</span><span class="s2">){</span><span class="s3">return </span><span class="s1">a</span><span class="s2">?</span><span class="s1">a</span><span class="s2">.</span><span class="s1">replace</span><span class="s2">(</span><span class="s5">/\\'/g</span><span class="s2">,</span><span class="s4">&quot;'&quot;</span><span class="s2">).</span><span class="s1">replace</span><span class="s2">(</span><span class="s5">/\\\\/g</span><span class="s2">,</span><span class="s4">&quot;</span><span class="s3">\\</span><span class="s4">&quot;</span><span class="s2">):</span><span class="s3">null</span><span class="s2">}</span><span class="s3">function </span><span class="s1">s</span><span class="s2">(</span><span class="s1">b</span><span class="s2">){</span><span class="s3">var </span><span class="s1">a</span><span class="s2">=</span><span class="s1">document</span><span class="s2">.</span><span class="s1">createElement</span><span class="s2">(</span><span class="s4">&quot;div&quot;</span><span class="s2">);</span><span class="s1">a</span><span class="s2">.</span><span class="s1">appendChild</span><span class="s2">(</span><span class="s1">b</span><span class="s2">.</span><span class="s1">cloneNode</span><span class="s2">(</span><span class="s3">true</span><span class="s2">));</span><span class="s3">return </span><span class="s1">a</span><span class="s2">.</span><span class="s1">innerHTML</span><span class="s2">}</span><span class="s3">function </span><span class="s1">m</span><span class="s2">(</span><span class="s1">o</span><span class="s2">){</span><span class="s3">var </span><span class="s1">n</span><span class="s2">=</span><span class="s4">&quot;_&quot;</span><span class="s2">+</span><span class="s1">c</span><span class="s2">,</span><span class="s1">k</span><span class="s2">,</span><span class="s1">j</span><span class="s2">,</span><span class="s1">l</span><span class="s2">={},</span><span class="s1">e</span><span class="s2">,</span><span class="s1">p</span><span class="s2">,</span><span class="s1">h</span><span class="s2">;</span><span class="s3">for</span><span class="s2">(</span><span class="s1">e</span><span class="s2">=</span><span class="s6">0</span><span class="s2">,</span><span class="s1">p</span><span class="s2">=</span><span class="s1">o</span><span class="s2">.</span><span class="s1">length</span><span class="s2">;</span><span class="s1">e</span><span class="s2">&lt;</span><span class="s1">p</span><span class="s2">;</span><span class="s1">e</span><span class="s2">++){</span><span class="s3">if</span><span class="s2">((</span><span class="s1">k</span><span class="s2">=</span><span class="s1">o</span><span class="s2">[</span><span class="s1">e</span><span class="s2">]).</span><span class="s1">nodeType</span><span class="s2">!==</span><span class="s6">1</span><span class="s2">)</span><span class="s3">continue</span><span class="s2">;</span><span class="s1">j</span><span class="s2">=</span><span class="s1">k</span><span class="s2">.</span><span class="s1">getElementsByTagName</span><span class="s2">(</span><span class="s4">&quot;*&quot;</span><span class="s2">);</span><span class="s3">for</span><span class="s2">(</span><span class="s1">h</span><span class="s2">=</span><span class="s1">j</span><span class="s2">.</span><span class="s1">length</span><span class="s2">-</span><span class="s6">1</span><span class="s2">;</span><span class="s1">h</span><span class="s2">&gt;=</span><span class="s6">0</span><span class="s2">;</span><span class="s1">h</span><span class="s2">--)</span><span class="s1">m</span><span class="s2">(</span><span class="s1">j</span><span class="s2">[</span><span class="s1">h</span><span class="s2">]);</span><span class="s1">m</span><span class="s2">(</span><span class="s1">k</span><span class="s2">)}</span><span class="s3">function </span><span class="s1">m</span><span class="s2">(</span><span class="s1">j</span><span class="s2">){</span><span class="s3">var </span><span class="s1">p</span><span class="s2">,</span><span class="s1">h</span><span class="s2">=</span><span class="s1">j</span><span class="s2">,</span><span class="s1">k</span><span class="s2">,</span><span class="s1">e</span><span class="s2">,</span><span class="s1">m</span><span class="s2">;</span><span class="s3">if</span><span class="s2">(</span><span class="s1">m</span><span class="s2">=</span><span class="s1">j</span><span class="s2">.</span><span class="s1">getAttribute</span><span class="s2">(</span><span class="s1">d</span><span class="s2">)){</span><span class="s3">while</span><span class="s2">(</span><span class="s1">h</span><span class="s2">.</span><span class="s1">parentNode</span><span class="s2">&amp;&amp;(</span><span class="s1">h</span><span class="s2">=</span><span class="s1">h</span><span class="s2">.</span><span class="s1">parentNode</span><span class="s2">).</span><span class="s1">nodeType</span><span class="s2">===</span><span class="s6">1</span><span class="s2">&amp;&amp;!(</span><span class="s1">p</span><span class="s2">=</span><span class="s1">h</span><span class="s2">.</span><span class="s1">getAttribute</span><span class="s2">(</span><span class="s1">d</span><span class="s2">)));</span><span class="s3">if</span><span class="s2">(</span><span class="s1">p</span><span class="s2">!==</span><span class="s1">m</span><span class="s2">){</span><span class="s1">h</span><span class="s2">=</span><span class="s1">h</span><span class="s2">.</span><span class="s1">parentNode</span><span class="s2">?</span><span class="s1">h</span><span class="s2">.</span><span class="s1">nodeType</span><span class="s2">===</span><span class="s6">11</span><span class="s2">?</span><span class="s6">0</span><span class="s2">:</span><span class="s1">h</span><span class="s2">.</span><span class="s1">getAttribute</span><span class="s2">(</span><span class="s1">d</span><span class="s2">)||</span><span class="s6">0</span><span class="s2">:</span><span class="s6">0</span><span class="s2">;</span><span class="s3">if</span><span class="s2">(!(</span><span class="s1">e</span><span class="s2">=</span><span class="s1">b</span><span class="s2">[</span><span class="s1">m</span><span class="s2">])){</span><span class="s1">e</span><span class="s2">=</span><span class="s1">f</span><span class="s2">[</span><span class="s1">m</span><span class="s2">];</span><span class="s1">e</span><span class="s2">=</span><span class="s1">g</span><span class="s2">(</span><span class="s1">e</span><span class="s2">,</span><span class="s1">b</span><span class="s2">[</span><span class="s1">h</span><span class="s2">]||</span><span class="s1">f</span><span class="s2">[</span><span class="s1">h</span><span class="s2">]);</span><span class="s1">e</span><span class="s2">.</span><span class="s1">key</span><span class="s2">=++</span><span class="s1">i</span><span class="s2">;</span><span class="s1">b</span><span class="s2">[</span><span class="s1">i</span><span class="s2">]=</span><span class="s1">e</span><span class="s2">}</span><span class="s1">c</span><span class="s2">&amp;&amp;</span><span class="s1">o</span><span class="s2">(</span><span class="s1">m</span><span class="s2">)}</span><span class="s1">j</span><span class="s2">.</span><span class="s1">removeAttribute</span><span class="s2">(</span><span class="s1">d</span><span class="s2">)}</span><span class="s3">else if</span><span class="s2">(</span><span class="s1">c</span><span class="s2">&amp;&amp;(</span><span class="s1">e</span><span class="s2">=</span><span class="s1">a</span><span class="s2">.</span><span class="s1">data</span><span class="s2">(</span><span class="s1">j</span><span class="s2">,</span><span class="s4">&quot;tmplItem&quot;</span><span class="s2">))){</span><span class="s1">o</span><span class="s2">(</span><span class="s1">e</span><span class="s2">.</span><span class="s1">key</span><span class="s2">);</span><span class="s1">b</span><span class="s2">[</span><span class="s1">e</span><span class="s2">.</span><span class="s1">key</span><span class="s2">]=</span><span class="s1">e</span><span class="s2">;</span><span class="s1">h</span><span class="s2">=</span><span class="s1">a</span><span class="s2">.</span><span class="s1">data</span><span class="s2">(</span><span class="s1">j</span><span class="s2">.</span><span class="s1">parentNode</span><span class="s2">,</span><span class="s4">&quot;tmplItem&quot;</span><span class="s2">);</span><span class="s1">h</span><span class="s2">=</span><span class="s1">h</span><span class="s2">?</span><span class="s1">h</span><span class="s2">.</span><span class="s1">key</span><span class="s2">:</span><span class="s6">0</span><span class="s2">}</span><span class="s3">if</span><span class="s2">(</span><span class="s1">e</span><span class="s2">){</span><span class="s1">k</span><span class="s2">=</span><span class="s1">e</span><span class="s2">;</span><span class="s3">while</span><span class="s2">(</span><span class="s1">k</span><span class="s2">&amp;&amp;</span><span class="s1">k</span><span class="s2">.</span><span class="s1">key</span><span class="s2">!=</span><span class="s1">h</span><span class="s2">){</span><span class="s1">k</span><span class="s2">.</span><span class="s1">nodes</span><span class="s2">.</span><span class="s1">push</span><span class="s2">(</span><span class="s1">j</span><span class="s2">);</span><span class="s1">k</span><span class="s2">=</span><span class="s1">k</span><span class="s2">.</span><span class="s1">parent</span><span class="s2">}</span><span class="s3">delete </span><span class="s1">e</span><span class="s2">.</span><span class="s1">_ctnt</span><span class="s2">;</span><span class="s3">delete </span><span class="s1">e</span><span class="s2">.</span><span class="s1">_wrap</span><span class="s2">;</span><span class="s1">a</span><span class="s2">.</span><span class="s1">data</span><span class="s2">(</span><span class="s1">j</span><span class="s2">,</span><span class="s4">&quot;tmplItem&quot;</span><span class="s2">,</span><span class="s1">e</span><span class="s2">)}</span><span class="s3">function </span><span class="s1">o</span><span class="s2">(</span><span class="s1">a</span><span class="s2">){</span><span class="s1">a</span><span class="s2">=</span><span class="s1">a</span><span class="s2">+</span><span class="s1">n</span><span class="s2">;</span><span class="s1">e</span><span class="s2">=</span><span class="s1">l</span><span class="s2">[</span><span class="s1">a</span><span class="s2">]=</span><span class="s1">l</span><span class="s2">[</span><span class="s1">a</span><span class="s2">]||</span><span class="s1">g</span><span class="s2">(</span><span class="s1">e</span><span class="s2">,</span><span class="s1">b</span><span class="s2">[</span><span class="s1">e</span><span class="s2">.</span><span class="s1">parent</span><span class="s2">.</span><span class="s1">key</span><span class="s2">+</span><span class="s1">n</span><span class="s2">]||</span><span class="s1">e</span><span class="s2">.</span><span class="s1">parent</span><span class="s2">)}}}</span><span class="s3">function </span><span class="s1">u</span><span class="s2">(</span><span class="s1">a</span><span class="s2">,</span><span class="s1">d</span><span class="s2">,</span><span class="s1">c</span><span class="s2">,</span><span class="s1">b</span><span class="s2">){</span><span class="s3">if</span><span class="s2">(!</span><span class="s1">a</span><span class="s2">)</span><span class="s3">return </span><span class="s1">l</span><span class="s2">.</span><span class="s1">pop</span><span class="s2">();</span><span class="s1">l</span><span class="s2">.</span><span class="s1">push</span><span class="s2">({</span><span class="s1">_</span><span class="s2">:</span><span class="s1">a</span><span class="s2">,</span><span class="s1">tmpl</span><span class="s2">:</span><span class="s1">d</span><span class="s2">,</span><span class="s1">item</span><span class="s2">:</span><span class="s3">this</span><span class="s2">,</span><span class="s1">data</span><span class="s2">:</span><span class="s1">c</span><span class="s2">,</span><span class="s1">options</span><span class="s2">:</span><span class="s1">b</span><span class="s2">})}</span><span class="s3">function </span><span class="s1">w</span><span class="s2">(</span><span class="s1">d</span><span class="s2">,</span><span class="s1">c</span><span class="s2">,</span><span class="s1">b</span><span class="s2">){</span><span class="s3">return </span><span class="s1">a</span><span class="s2">.</span><span class="s1">tmpl</span><span class="s2">(</span><span class="s1">a</span><span class="s2">.</span><span class="s1">template</span><span class="s2">(</span><span class="s1">d</span><span class="s2">),</span><span class="s1">c</span><span class="s2">,</span><span class="s1">b</span><span class="s2">,</span><span class="s3">this</span><span class="s2">)}</span><span class="s3">function </span><span class="s1">x</span><span class="s2">(</span><span class="s1">b</span><span class="s2">,</span><span class="s1">d</span><span class="s2">){</span><span class="s3">var </span><span class="s1">c</span><span class="s2">=</span><span class="s1">b</span><span class="s2">.</span><span class="s1">options</span><span class="s2">||{};</span><span class="s1">c</span><span class="s2">.</span><span class="s1">wrapped</span><span class="s2">=</span><span class="s1">d</span><span class="s2">;</span><span class="s3">return </span><span class="s1">a</span><span class="s2">.</span><span class="s1">tmpl</span><span class="s2">(</span><span class="s1">a</span><span class="s2">.</span><span class="s1">template</span><span class="s2">(</span><span class="s1">b</span><span class="s2">.</span><span class="s1">tmpl</span><span class="s2">),</span><span class="s1">b</span><span class="s2">.</span><span class="s1">data</span><span class="s2">,</span><span class="s1">c</span><span class="s2">,</span><span class="s1">b</span><span class="s2">.</span><span class="s1">item</span><span class="s2">)}</span><span class="s3">function </span><span class="s1">v</span><span class="s2">(</span><span class="s1">d</span><span class="s2">,</span><span class="s1">c</span><span class="s2">){</span><span class="s3">var </span><span class="s1">b</span><span class="s2">=</span><span class="s3">this</span><span class="s2">.</span><span class="s1">_wrap</span><span class="s2">;</span><span class="s3">return </span><span class="s1">a</span><span class="s2">.</span><span class="s1">map</span><span class="s2">(</span><span class="s1">a</span><span class="s2">(</span><span class="s1">a</span><span class="s2">.</span><span class="s1">isArray</span><span class="s2">(</span><span class="s1">b</span><span class="s2">)?</span><span class="s1">b</span><span class="s2">.</span><span class="s1">join</span><span class="s2">(</span><span class="s4">&quot;&quot;</span><span class="s2">):</span><span class="s1">b</span><span class="s2">).</span><span class="s1">filter</span><span class="s2">(</span><span class="s1">d</span><span class="s2">||</span><span class="s4">&quot;*&quot;</span><span class="s2">),</span><span class="s3">function</span><span class="s2">(</span><span class="s1">a</span><span class="s2">){</span><span class="s3">return </span><span class="s1">c</span><span class="s2">?</span><span class="s1">a</span><span class="s2">.</span><span class="s1">innerText</span><span class="s2">||</span><span class="s1">a</span><span class="s2">.</span><span class="s1">textContent</span><span class="s2">:</span><span class="s1">a</span><span class="s2">.</span><span class="s1">outerHTML</span><span class="s2">||</span><span class="s1">s</span><span class="s2">(</span><span class="s1">a</span><span class="s2">)})}</span><span class="s3">function </span><span class="s1">t</span><span class="s2">(){</span><span class="s3">var </span><span class="s1">b</span><span class="s2">=</span><span class="s3">this</span><span class="s2">.</span><span class="s1">nodes</span><span class="s2">;</span><span class="s1">a</span><span class="s2">.</span><span class="s1">tmpl</span><span class="s2">(</span><span class="s3">null</span><span class="s2">,</span><span class="s3">null</span><span class="s2">,</span><span class="s3">null</span><span class="s2">,</span><span class="s3">this</span><span class="s2">).</span><span class="s1">insertBefore</span><span class="s2">(</span><span class="s1">b</span><span class="s2">[</span><span class="s6">0</span><span class="s2">]);</span><span class="s1">a</span><span class="s2">(</span><span class="s1">b</span><span class="s2">).</span><span class="s1">remove</span><span class="s2">()}})(</span><span class="s1">jQuery</span><span class="s2">);</span>
</pre>
</body>
</html>