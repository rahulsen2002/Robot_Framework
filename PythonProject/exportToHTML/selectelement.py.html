<html>
<head>
<title>selectelement.py</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #7a7e85;}
.s1 { color: #bcbec4;}
.s2 { color: #cf8e6d;}
.s3 { color: #bcbec4;}
.s4 { color: #5f826b; font-style: italic;}
.s5 { color: #6aab73;}
.s6 { color: #2aacb8;}
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
selectelement.py</font>
</center></td></tr></table>
<pre><span class="s0"># Copyright 2008-2011 Nokia Networks</span>
<span class="s0"># Copyright 2011-2016 Ryan Tomac, Ed Manlove and contributors</span>
<span class="s0"># Copyright 2016-     Robot Framework Foundation</span>
<span class="s0">#</span>
<span class="s0"># Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span>
<span class="s0"># you may not use this file except in compliance with the License.</span>
<span class="s0"># You may obtain a copy of the License at</span>
<span class="s0">#</span>
<span class="s0">#    http://www.apache.org/licenses/LICENSE-2.0</span>
<span class="s0">#</span>
<span class="s0"># Unless required by applicable law or agreed to in writing, software</span>
<span class="s0"># distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span>
<span class="s0"># WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span>
<span class="s0"># See the License for the specific language governing permissions and</span>
<span class="s0"># limitations under the License.</span>
<span class="s2">from </span><span class="s1">typing </span><span class="s2">import </span><span class="s1">List</span><span class="s3">, </span><span class="s1">Optional</span><span class="s3">, </span><span class="s1">Union</span>

<span class="s2">from </span><span class="s1">selenium</span><span class="s3">.</span><span class="s1">webdriver</span><span class="s3">.</span><span class="s1">remote</span><span class="s3">.</span><span class="s1">webelement </span><span class="s2">import </span><span class="s1">WebElement</span>
<span class="s2">from </span><span class="s1">selenium</span><span class="s3">.</span><span class="s1">webdriver</span><span class="s3">.</span><span class="s1">support</span><span class="s3">.</span><span class="s1">ui </span><span class="s2">import </span><span class="s1">Select</span>

<span class="s2">from </span><span class="s1">SeleniumLibrary</span><span class="s3">.</span><span class="s1">base </span><span class="s2">import </span><span class="s1">LibraryComponent</span><span class="s3">, </span><span class="s1">keyword</span>
<span class="s2">from </span><span class="s1">SeleniumLibrary</span><span class="s3">.</span><span class="s1">utils </span><span class="s2">import </span><span class="s1">is_truthy</span><span class="s3">, </span><span class="s1">plural_or_not</span>


<span class="s2">class </span><span class="s1">SelectElementKeywords</span><span class="s3">(</span><span class="s1">LibraryComponent</span><span class="s3">):</span>
    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">get_list_items</span><span class="s3">(</span>
        <span class="s1">self</span><span class="s3">, </span><span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">], </span><span class="s1">values</span><span class="s3">: </span><span class="s1">bool </span><span class="s3">= </span><span class="s2">False</span>
    <span class="s3">) </span><span class="s1">-&gt; List</span><span class="s3">[</span><span class="s1">str</span><span class="s3">]:</span>
        <span class="s4">&quot;&quot;&quot;Returns all labels or values of selection list ``locator``. 
 
        See the `Locating elements` section for details about the locator 
        syntax. 
 
        Returns visible labels by default, but values can be returned by 
        setting the ``values`` argument to a true value (see `Boolean 
        arguments`). 
 
        Example: 
        | ${labels} = | `Get List Items` | mylist              |             | 
        | ${values} = | `Get List Items` | css:#example select | values=True | 
 
        Support to return values is new in SeleniumLibrary 3.0. 
        &quot;&quot;&quot;</span>
        <span class="s1">options </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">_get_options</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">)</span>
        <span class="s2">if </span><span class="s1">is_truthy</span><span class="s3">(</span><span class="s1">values</span><span class="s3">):</span>
            <span class="s2">return </span><span class="s1">self</span><span class="s3">.</span><span class="s1">_get_values</span><span class="s3">(</span><span class="s1">options</span><span class="s3">)</span>
        <span class="s2">else</span><span class="s3">:</span>
            <span class="s2">return </span><span class="s1">self</span><span class="s3">.</span><span class="s1">_get_labels</span><span class="s3">(</span><span class="s1">options</span><span class="s3">)</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">get_selected_list_label</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">]) </span><span class="s1">-&gt; str</span><span class="s3">:</span>
        <span class="s4">&quot;&quot;&quot;Returns the label of selected option from selection list ``locator``. 
 
        If there are multiple selected options, the label of the first option 
        is returned. 
 
        See the `Locating elements` section for details about the locator 
        syntax. 
        &quot;&quot;&quot;</span>
        <span class="s1">select </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">_get_select_list</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">)</span>
        <span class="s2">return </span><span class="s1">select</span><span class="s3">.</span><span class="s1">first_selected_option</span><span class="s3">.</span><span class="s1">text</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">get_selected_list_labels</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">]) </span><span class="s1">-&gt; List</span><span class="s3">[</span><span class="s1">str</span><span class="s3">]:</span>
        <span class="s4">&quot;&quot;&quot;Returns labels of selected options from selection list ``locator``. 
 
        Starting from SeleniumLibrary 3.0, returns an empty list if there 
        are no selections. In earlier versions, this caused an error. 
 
        See the `Locating elements` section for details about the locator 
        syntax. 
        &quot;&quot;&quot;</span>
        <span class="s1">options </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">_get_selected_options</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">)</span>
        <span class="s2">return </span><span class="s1">self</span><span class="s3">.</span><span class="s1">_get_labels</span><span class="s3">(</span><span class="s1">options</span><span class="s3">)</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">get_selected_list_value</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">]) </span><span class="s1">-&gt; str</span><span class="s3">:</span>
        <span class="s4">&quot;&quot;&quot;Returns the value of selected option from selection list ``locator``. 
 
        If there are multiple selected options, the value of the first option 
        is returned. 
 
        See the `Locating elements` section for details about the locator 
        syntax. 
        &quot;&quot;&quot;</span>
        <span class="s1">select </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">_get_select_list</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">)</span>
        <span class="s2">return </span><span class="s1">select</span><span class="s3">.</span><span class="s1">first_selected_option</span><span class="s3">.</span><span class="s1">get_attribute</span><span class="s3">(</span><span class="s5">&quot;value&quot;</span><span class="s3">)</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">get_selected_list_values</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">]) </span><span class="s1">-&gt; List</span><span class="s3">[</span><span class="s1">str</span><span class="s3">]:</span>
        <span class="s4">&quot;&quot;&quot;Returns values of selected options from selection list ``locator``. 
 
        Starting from SeleniumLibrary 3.0, returns an empty list if there 
        are no selections. In earlier versions, this caused an error. 
 
        See the `Locating elements` section for details about the locator 
        syntax. 
        &quot;&quot;&quot;</span>
        <span class="s1">options </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">_get_selected_options</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">)</span>
        <span class="s2">return </span><span class="s1">self</span><span class="s3">.</span><span class="s1">_get_values</span><span class="s3">(</span><span class="s1">options</span><span class="s3">)</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">list_selection_should_be</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">], *</span><span class="s1">expected</span><span class="s3">: </span><span class="s1">str</span><span class="s3">):</span>
        <span class="s4">&quot;&quot;&quot;Verifies selection list ``locator`` has ``expected`` options selected. 
 
        It is possible to give expected options both as visible labels and 
        as values. Starting from SeleniumLibrary 3.0, mixing labels and 
        values is not possible. Order of the selected options is not 
        validated. 
 
        If no expected options are given, validates that the list has 
        no selections. A more explicit alternative is using `List Should 
        Have No Selections`. 
 
        See the `Locating elements` section for details about the locator 
        syntax. 
 
        Examples: 
        | `List Selection Should Be` | gender    | Female          |        | 
        | `List Selection Should Be` | interests | Test Automation | Python | 
        &quot;&quot;&quot;</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">info</span><span class="s3">(</span>
            <span class="s5">f&quot;Verifying list '</span><span class="s2">{</span><span class="s1">locator</span><span class="s2">}</span><span class="s5">' has option</span><span class="s2">{</span><span class="s1">plural_or_not</span><span class="s3">(</span><span class="s1">expected</span><span class="s3">)</span><span class="s2">} </span><span class="s5">&quot;</span>
            <span class="s5">f&quot;[ </span><span class="s2">{</span><span class="s5">' | '</span><span class="s3">.</span><span class="s1">join</span><span class="s3">(</span><span class="s1">expected</span><span class="s3">)</span><span class="s2">} </span><span class="s5">] selected.&quot;</span>
        <span class="s3">)</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">page_should_contain_list</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">)</span>
        <span class="s1">options </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">_get_selected_options</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">)</span>
        <span class="s1">labels </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">_get_labels</span><span class="s3">(</span><span class="s1">options</span><span class="s3">)</span>
        <span class="s1">values </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">_get_values</span><span class="s3">(</span><span class="s1">options</span><span class="s3">)</span>
        <span class="s2">if </span><span class="s1">sorted</span><span class="s3">(</span><span class="s1">expected</span><span class="s3">) </span><span class="s2">not in </span><span class="s3">[</span><span class="s1">sorted</span><span class="s3">(</span><span class="s1">labels</span><span class="s3">), </span><span class="s1">sorted</span><span class="s3">(</span><span class="s1">values</span><span class="s3">)]:</span>
            <span class="s2">raise </span><span class="s1">AssertionError</span><span class="s3">(</span>
                <span class="s5">f&quot;List '</span><span class="s2">{</span><span class="s1">locator</span><span class="s2">}</span><span class="s5">' should have had selection [ </span><span class="s2">{</span><span class="s5">' | '</span><span class="s3">.</span><span class="s1">join</span><span class="s3">(</span><span class="s1">expected</span><span class="s3">)</span><span class="s2">} </span><span class="s5">] &quot;</span>
                <span class="s5">f&quot;but selection was [ </span><span class="s2">{</span><span class="s1">self</span><span class="s3">.</span><span class="s1">_format_selection</span><span class="s3">(</span><span class="s1">labels</span><span class="s3">, </span><span class="s1">values</span><span class="s3">)</span><span class="s2">} </span><span class="s5">].&quot;</span>
            <span class="s3">)</span>

    <span class="s2">def </span><span class="s1">_format_selection</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">labels</span><span class="s3">, </span><span class="s1">values</span><span class="s3">):</span>
        <span class="s2">return </span><span class="s5">&quot; | &quot;</span><span class="s3">.</span><span class="s1">join</span><span class="s3">(</span><span class="s5">f&quot;</span><span class="s2">{</span><span class="s1">label</span><span class="s2">} </span><span class="s5">(</span><span class="s2">{</span><span class="s1">value</span><span class="s2">}</span><span class="s5">)&quot; </span><span class="s2">for </span><span class="s1">label</span><span class="s3">, </span><span class="s1">value </span><span class="s2">in </span><span class="s1">zip</span><span class="s3">(</span><span class="s1">labels</span><span class="s3">, </span><span class="s1">values</span><span class="s3">))</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">list_should_have_no_selections</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">]):</span>
        <span class="s4">&quot;&quot;&quot;Verifies selection list ``locator`` has no options selected. 
 
        See the `Locating elements` section for details about the locator 
        syntax. 
        &quot;&quot;&quot;</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">info</span><span class="s3">(</span><span class="s5">f&quot;Verifying list '</span><span class="s2">{</span><span class="s1">locator</span><span class="s2">}</span><span class="s5">' has no selections.&quot;</span><span class="s3">)</span>
        <span class="s1">options </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">_get_selected_options</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">)</span>
        <span class="s2">if </span><span class="s1">options</span><span class="s3">:</span>
            <span class="s1">selection </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">_format_selection</span><span class="s3">(</span>
                <span class="s1">self</span><span class="s3">.</span><span class="s1">_get_labels</span><span class="s3">(</span><span class="s1">options</span><span class="s3">), </span><span class="s1">self</span><span class="s3">.</span><span class="s1">_get_values</span><span class="s3">(</span><span class="s1">options</span><span class="s3">)</span>
            <span class="s3">)</span>
            <span class="s2">raise </span><span class="s1">AssertionError</span><span class="s3">(</span>
                <span class="s5">f&quot;List '</span><span class="s2">{</span><span class="s1">locator</span><span class="s2">}</span><span class="s5">' should have had no selection &quot;</span>
                <span class="s5">f&quot;but selection was [ </span><span class="s2">{</span><span class="s1">selection</span><span class="s2">} </span><span class="s5">].&quot;</span>
            <span class="s3">)</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">page_should_contain_list</span><span class="s3">(</span>
        <span class="s1">self</span><span class="s3">,</span>
        <span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">],</span>
        <span class="s1">message</span><span class="s3">: </span><span class="s1">Optional</span><span class="s3">[</span><span class="s1">str</span><span class="s3">] = </span><span class="s2">None</span><span class="s3">,</span>
        <span class="s1">loglevel</span><span class="s3">: </span><span class="s1">str </span><span class="s3">= </span><span class="s5">&quot;TRACE&quot;</span><span class="s3">,</span>
    <span class="s3">):</span>
        <span class="s4">&quot;&quot;&quot;Verifies selection list ``locator`` is found from current page. 
 
        See `Page Should Contain Element` for an explanation about ``message`` 
        and ``loglevel`` arguments. 
 
        See the `Locating elements` section for details about the locator 
        syntax. 
        &quot;&quot;&quot;</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">assert_page_contains</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">, </span><span class="s5">&quot;list&quot;</span><span class="s3">, </span><span class="s1">message</span><span class="s3">, </span><span class="s1">loglevel</span><span class="s3">)</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">page_should_not_contain_list</span><span class="s3">(</span>
        <span class="s1">self</span><span class="s3">,</span>
        <span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">],</span>
        <span class="s1">message</span><span class="s3">: </span><span class="s1">Optional</span><span class="s3">[</span><span class="s1">str</span><span class="s3">] = </span><span class="s2">None</span><span class="s3">,</span>
        <span class="s1">loglevel</span><span class="s3">: </span><span class="s1">str </span><span class="s3">= </span><span class="s5">&quot;TRACE&quot;</span><span class="s3">,</span>
    <span class="s3">):</span>
        <span class="s4">&quot;&quot;&quot;Verifies selection list ``locator`` is not found from current page. 
 
        See `Page Should Contain Element` for an explanation about ``message`` 
        and ``loglevel`` arguments. 
 
        See the `Locating elements` section for details about the locator 
        syntax. 
        &quot;&quot;&quot;</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">assert_page_not_contains</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">, </span><span class="s5">&quot;list&quot;</span><span class="s3">, </span><span class="s1">message</span><span class="s3">, </span><span class="s1">loglevel</span><span class="s3">)</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">select_all_from_list</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">]):</span>
        <span class="s4">&quot;&quot;&quot;Selects all options from multi-selection list ``locator``. 
 
        See the `Locating elements` section for details about the locator 
        syntax. 
        &quot;&quot;&quot;</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">info</span><span class="s3">(</span><span class="s5">f&quot;Selecting all options from list '</span><span class="s2">{</span><span class="s1">locator</span><span class="s2">}</span><span class="s5">'.&quot;</span><span class="s3">)</span>
        <span class="s1">select </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">_get_select_list</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">)</span>
        <span class="s2">if not </span><span class="s1">select</span><span class="s3">.</span><span class="s1">is_multiple</span><span class="s3">:</span>
            <span class="s2">raise </span><span class="s1">RuntimeError</span><span class="s3">(</span>
                <span class="s5">&quot;'Select All From List' works only with multi-selection lists.&quot;</span>
            <span class="s3">)</span>
        <span class="s2">for </span><span class="s1">index </span><span class="s2">in </span><span class="s1">range</span><span class="s3">(</span><span class="s1">len</span><span class="s3">(</span><span class="s1">select</span><span class="s3">.</span><span class="s1">options</span><span class="s3">)):</span>
            <span class="s1">select</span><span class="s3">.</span><span class="s1">select_by_index</span><span class="s3">(</span><span class="s1">index</span><span class="s3">)</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">select_from_list_by_index</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">], *</span><span class="s1">indexes</span><span class="s3">: </span><span class="s1">str</span><span class="s3">):</span>
        <span class="s4">&quot;&quot;&quot;Selects options from selection list ``locator`` by ``indexes``. 
 
        Indexes of list options start from 0. 
 
        If more than one option is given for a single-selection list, 
        the last value will be selected. With multi-selection lists all 
        specified options are selected, but possible old selections are 
        not cleared. 
 
        See the `Locating elements` section for details about the locator 
        syntax. 
        &quot;&quot;&quot;</span>
        <span class="s2">if not </span><span class="s1">indexes</span><span class="s3">:</span>
            <span class="s2">raise </span><span class="s1">ValueError</span><span class="s3">(</span><span class="s5">&quot;No indexes given.&quot;</span><span class="s3">)</span>
        <span class="s1">plural </span><span class="s3">= </span><span class="s5">&quot;&quot; </span><span class="s2">if </span><span class="s1">len</span><span class="s3">(</span><span class="s1">indexes</span><span class="s3">) == </span><span class="s6">1 </span><span class="s2">else </span><span class="s5">&quot;es&quot;</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">info</span><span class="s3">(</span>
            <span class="s5">f&quot;Selecting options from selection list '</span><span class="s2">{</span><span class="s1">locator</span><span class="s2">}</span><span class="s5">' &quot;</span>
            <span class="s5">f&quot;by index</span><span class="s2">{</span><span class="s1">plural</span><span class="s2">} {</span><span class="s5">', '</span><span class="s3">.</span><span class="s1">join</span><span class="s3">(</span><span class="s1">indexes</span><span class="s3">)</span><span class="s2">}</span><span class="s5">.&quot;</span>
        <span class="s3">)</span>
        <span class="s1">select </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">_get_select_list</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">)</span>
        <span class="s2">for </span><span class="s1">index </span><span class="s2">in </span><span class="s1">indexes</span><span class="s3">:</span>
            <span class="s1">select</span><span class="s3">.</span><span class="s1">select_by_index</span><span class="s3">(</span><span class="s1">int</span><span class="s3">(</span><span class="s1">index</span><span class="s3">))</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">select_from_list_by_value</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">], *</span><span class="s1">values</span><span class="s3">: </span><span class="s1">str</span><span class="s3">):</span>
        <span class="s4">&quot;&quot;&quot;Selects options from selection list ``locator`` by ``values``. 
 
        If more than one option is given for a single-selection list, 
        the last value will be selected. With multi-selection lists all 
        specified options are selected, but possible old selections are 
        not cleared. 
 
        See the `Locating elements` section for details about the locator 
        syntax. 
        &quot;&quot;&quot;</span>
        <span class="s2">if not </span><span class="s1">values</span><span class="s3">:</span>
            <span class="s2">raise </span><span class="s1">ValueError</span><span class="s3">(</span><span class="s5">&quot;No values given.&quot;</span><span class="s3">)</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">info</span><span class="s3">(</span>
            <span class="s5">f&quot;Selecting options from selection list '</span><span class="s2">{</span><span class="s1">locator</span><span class="s2">}</span><span class="s5">' by &quot;</span>
            <span class="s5">f&quot;value</span><span class="s2">{</span><span class="s1">plural_or_not</span><span class="s3">(</span><span class="s1">values</span><span class="s3">)</span><span class="s2">} {</span><span class="s5">', '</span><span class="s3">.</span><span class="s1">join</span><span class="s3">(</span><span class="s1">values</span><span class="s3">)</span><span class="s2">}</span><span class="s5">.&quot;</span>
        <span class="s3">)</span>
        <span class="s1">select </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">_get_select_list</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">)</span>
        <span class="s2">for </span><span class="s1">value </span><span class="s2">in </span><span class="s1">values</span><span class="s3">:</span>
            <span class="s1">select</span><span class="s3">.</span><span class="s1">select_by_value</span><span class="s3">(</span><span class="s1">value</span><span class="s3">)</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">select_from_list_by_label</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">], *</span><span class="s1">labels</span><span class="s3">: </span><span class="s1">str</span><span class="s3">):</span>
        <span class="s4">&quot;&quot;&quot;Selects options from selection list ``locator`` by ``labels``. 
 
        If more than one option is given for a single-selection list, 
        the last value will be selected. With multi-selection lists all 
        specified options are selected, but possible old selections are 
        not cleared. 
 
        See the `Locating elements` section for details about the locator 
        syntax. 
        &quot;&quot;&quot;</span>
        <span class="s2">if not </span><span class="s1">labels</span><span class="s3">:</span>
            <span class="s2">raise </span><span class="s1">ValueError</span><span class="s3">(</span><span class="s5">&quot;No labels given.&quot;</span><span class="s3">)</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">info</span><span class="s3">(</span>
            <span class="s5">f&quot;Selecting options from selection list '</span><span class="s2">{</span><span class="s1">locator</span><span class="s2">}</span><span class="s5">' &quot;</span>
            <span class="s5">f&quot;by label</span><span class="s2">{</span><span class="s1">plural_or_not</span><span class="s3">(</span><span class="s1">labels</span><span class="s3">)</span><span class="s2">} {</span><span class="s5">', '</span><span class="s3">.</span><span class="s1">join</span><span class="s3">(</span><span class="s1">labels</span><span class="s3">)</span><span class="s2">}</span><span class="s5">.&quot;</span>
        <span class="s3">)</span>
        <span class="s1">select </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">_get_select_list</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">)</span>
        <span class="s2">for </span><span class="s1">label </span><span class="s2">in </span><span class="s1">labels</span><span class="s3">:</span>
            <span class="s1">select</span><span class="s3">.</span><span class="s1">select_by_visible_text</span><span class="s3">(</span><span class="s1">label</span><span class="s3">)</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">unselect_all_from_list</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">]):</span>
        <span class="s4">&quot;&quot;&quot;Unselects all options from multi-selection list ``locator``. 
 
        See the `Locating elements` section for details about the locator 
        syntax. 
 
        New in SeleniumLibrary 3.0. 
        &quot;&quot;&quot;</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">info</span><span class="s3">(</span><span class="s5">f&quot;Unselecting all options from list '</span><span class="s2">{</span><span class="s1">locator</span><span class="s2">}</span><span class="s5">'.&quot;</span><span class="s3">)</span>
        <span class="s1">select </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">_get_select_list</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">)</span>
        <span class="s2">if not </span><span class="s1">select</span><span class="s3">.</span><span class="s1">is_multiple</span><span class="s3">:</span>
            <span class="s2">raise </span><span class="s1">RuntimeError</span><span class="s3">(</span>
                <span class="s5">&quot;Un-selecting options works only with multi-selection lists.&quot;</span>
            <span class="s3">)</span>
        <span class="s1">select</span><span class="s3">.</span><span class="s1">deselect_all</span><span class="s3">()</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">unselect_from_list_by_index</span><span class="s3">(</span>
        <span class="s1">self</span><span class="s3">, </span><span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">], *</span><span class="s1">indexes</span><span class="s3">: </span><span class="s1">str</span>
    <span class="s3">):</span>
        <span class="s4">&quot;&quot;&quot;Unselects options from selection list ``locator`` by ``indexes``. 
 
        Indexes of list options start from 0. This keyword works only with 
        multi-selection lists. 
 
        See the `Locating elements` section for details about the locator 
        syntax. 
        &quot;&quot;&quot;</span>
        <span class="s2">if not </span><span class="s1">indexes</span><span class="s3">:</span>
            <span class="s2">raise </span><span class="s1">ValueError</span><span class="s3">(</span><span class="s5">&quot;No indexes given.&quot;</span><span class="s3">)</span>
        <span class="s1">plurar </span><span class="s3">= </span><span class="s5">&quot;&quot; </span><span class="s2">if </span><span class="s1">len</span><span class="s3">(</span><span class="s1">indexes</span><span class="s3">) == </span><span class="s6">1 </span><span class="s2">else </span><span class="s5">&quot;es&quot;</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">info</span><span class="s3">(</span>
            <span class="s5">f&quot;Un-selecting options from selection list '</span><span class="s2">{</span><span class="s1">locator</span><span class="s2">}</span><span class="s5">' by index</span><span class="s2">{</span><span class="s1">plurar</span><span class="s2">} </span><span class="s5">&quot;</span>
            <span class="s5">f&quot;</span><span class="s2">{</span><span class="s5">', '</span><span class="s3">.</span><span class="s1">join</span><span class="s3">(</span><span class="s1">indexes</span><span class="s3">)</span><span class="s2">}</span><span class="s5">.&quot;</span>
        <span class="s3">)</span>
        <span class="s1">select </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">_get_select_list</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">)</span>
        <span class="s2">if not </span><span class="s1">select</span><span class="s3">.</span><span class="s1">is_multiple</span><span class="s3">:</span>
            <span class="s2">raise </span><span class="s1">RuntimeError</span><span class="s3">(</span>
                <span class="s5">&quot;Un-selecting options works only with multi-selection lists.&quot;</span>
            <span class="s3">)</span>
        <span class="s2">for </span><span class="s1">index </span><span class="s2">in </span><span class="s1">indexes</span><span class="s3">:</span>
            <span class="s1">select</span><span class="s3">.</span><span class="s1">deselect_by_index</span><span class="s3">(</span><span class="s1">int</span><span class="s3">(</span><span class="s1">index</span><span class="s3">))</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">unselect_from_list_by_value</span><span class="s3">(</span>
        <span class="s1">self</span><span class="s3">, </span><span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">], *</span><span class="s1">values</span><span class="s3">: </span><span class="s1">str</span>
    <span class="s3">):</span>
        <span class="s4">&quot;&quot;&quot;Unselects options from selection list ``locator`` by ``values``. 
 
        This keyword works only with multi-selection lists. 
 
        See the `Locating elements` section for details about the locator 
        syntax. 
        &quot;&quot;&quot;</span>
        <span class="s2">if not </span><span class="s1">values</span><span class="s3">:</span>
            <span class="s2">raise </span><span class="s1">ValueError</span><span class="s3">(</span><span class="s5">&quot;No values given.&quot;</span><span class="s3">)</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">info</span><span class="s3">(</span>
            <span class="s5">f&quot;Un-selecting options from selection list '</span><span class="s2">{</span><span class="s1">locator</span><span class="s2">}</span><span class="s5">' by &quot;</span>
            <span class="s5">f&quot;value</span><span class="s2">{</span><span class="s1">plural_or_not</span><span class="s3">(</span><span class="s1">values</span><span class="s3">)</span><span class="s2">} {</span><span class="s5">', '</span><span class="s3">.</span><span class="s1">join</span><span class="s3">(</span><span class="s1">values</span><span class="s3">)</span><span class="s2">}</span><span class="s5">.&quot;</span>
        <span class="s3">)</span>
        <span class="s1">select </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">_get_select_list</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">)</span>
        <span class="s2">if not </span><span class="s1">select</span><span class="s3">.</span><span class="s1">is_multiple</span><span class="s3">:</span>
            <span class="s2">raise </span><span class="s1">RuntimeError</span><span class="s3">(</span>
                <span class="s5">&quot;Un-selecting options works only with multi-selection lists.&quot;</span>
            <span class="s3">)</span>
        <span class="s2">for </span><span class="s1">value </span><span class="s2">in </span><span class="s1">values</span><span class="s3">:</span>
            <span class="s1">select</span><span class="s3">.</span><span class="s1">deselect_by_value</span><span class="s3">(</span><span class="s1">value</span><span class="s3">)</span>

    <span class="s3">@</span><span class="s1">keyword</span>
    <span class="s2">def </span><span class="s1">unselect_from_list_by_label</span><span class="s3">(</span>
        <span class="s1">self</span><span class="s3">, </span><span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">], *</span><span class="s1">labels</span><span class="s3">: </span><span class="s1">str</span>
    <span class="s3">):</span>
        <span class="s4">&quot;&quot;&quot;Unselects options from selection list ``locator`` by ``labels``. 
 
        This keyword works only with multi-selection lists. 
 
        See the `Locating elements` section for details about the locator 
        syntax. 
        &quot;&quot;&quot;</span>
        <span class="s2">if not </span><span class="s1">labels</span><span class="s3">:</span>
            <span class="s2">raise </span><span class="s1">ValueError</span><span class="s3">(</span><span class="s5">&quot;No labels given.&quot;</span><span class="s3">)</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">info</span><span class="s3">(</span>
            <span class="s5">f&quot;Un-selecting options from selection list '</span><span class="s2">{</span><span class="s1">locator</span><span class="s2">}</span><span class="s5">' by &quot;</span>
            <span class="s5">f&quot;label</span><span class="s2">{</span><span class="s1">plural_or_not</span><span class="s3">(</span><span class="s1">labels</span><span class="s3">)</span><span class="s2">} {</span><span class="s5">', '</span><span class="s3">.</span><span class="s1">join</span><span class="s3">(</span><span class="s1">labels</span><span class="s3">)</span><span class="s2">}</span><span class="s5">.&quot;</span>
        <span class="s3">)</span>
        <span class="s1">select </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">_get_select_list</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">)</span>
        <span class="s2">if not </span><span class="s1">select</span><span class="s3">.</span><span class="s1">is_multiple</span><span class="s3">:</span>
            <span class="s2">raise </span><span class="s1">RuntimeError</span><span class="s3">(</span>
                <span class="s5">&quot;Un-selecting options works only with multi-selection lists.&quot;</span>
            <span class="s3">)</span>
        <span class="s2">for </span><span class="s1">label </span><span class="s2">in </span><span class="s1">labels</span><span class="s3">:</span>
            <span class="s1">select</span><span class="s3">.</span><span class="s1">deselect_by_visible_text</span><span class="s3">(</span><span class="s1">label</span><span class="s3">)</span>

    <span class="s2">def </span><span class="s1">_get_select_list</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">]):</span>
        <span class="s1">el </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">find_element</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">, </span><span class="s1">tag</span><span class="s3">=</span><span class="s5">&quot;list&quot;</span><span class="s3">)</span>
        <span class="s2">return </span><span class="s1">Select</span><span class="s3">(</span><span class="s1">el</span><span class="s3">)</span>

    <span class="s2">def </span><span class="s1">_get_options</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">]):</span>
        <span class="s2">return </span><span class="s1">self</span><span class="s3">.</span><span class="s1">_get_select_list</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">).</span><span class="s1">options</span>

    <span class="s2">def </span><span class="s1">_get_selected_options</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">locator</span><span class="s3">: </span><span class="s1">Union</span><span class="s3">[</span><span class="s1">WebElement</span><span class="s3">, </span><span class="s1">str</span><span class="s3">]):</span>
        <span class="s2">return </span><span class="s1">self</span><span class="s3">.</span><span class="s1">_get_select_list</span><span class="s3">(</span><span class="s1">locator</span><span class="s3">).</span><span class="s1">all_selected_options</span>

    <span class="s2">def </span><span class="s1">_get_labels</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">options</span><span class="s3">):</span>
        <span class="s2">return </span><span class="s3">[</span><span class="s1">opt</span><span class="s3">.</span><span class="s1">text </span><span class="s2">for </span><span class="s1">opt </span><span class="s2">in </span><span class="s1">options</span><span class="s3">]</span>

    <span class="s2">def </span><span class="s1">_get_values</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">options</span><span class="s3">):</span>
        <span class="s2">return </span><span class="s3">[</span><span class="s1">opt</span><span class="s3">.</span><span class="s1">get_attribute</span><span class="s3">(</span><span class="s5">&quot;value&quot;</span><span class="s3">) </span><span class="s2">for </span><span class="s1">opt </span><span class="s2">in </span><span class="s1">options</span><span class="s3">]</span>
</pre>
</body>
</html>